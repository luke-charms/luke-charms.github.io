<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Past Paper Revision</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-interactiveBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="02a083b9-dc57-4a5e-8dd8-a6c512c89e65" class="page sans"><header><div class="page-header-icon undefined"><img class="icon" src="https://www.notion.so/icons/gradebook_orange.svg"/></div><h1 class="page-title">Past Paper Revision</h1><p class="page-description"></p></header><div class="page-body"><nav id="fd1f2d09-f4c5-4341-9864-9ecaf799de4e" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#6393a4ec-805e-4f2a-a2de-ccd52162350c">2021/22 Paper</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3398e952-cdb0-4609-baf3-1c272aca0fa3">Question 1</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c73635d6-e228-4ef2-8137-2a35fcbd934a">Question 2</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#826dc493-9fb8-42b2-8ce4-38f5a4657320">Question 3</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f8579bdd-ce14-4722-9db6-96ac22a446e4">Question 4</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#9cb72507-52bb-477b-82ed-5979909273ea">2020/21 Paper</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4c53e2c5-4398-40b3-a00d-672d78258e05">Question 1</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d2c80e22-43b6-48a8-8dbc-87a460d303be">Question 2</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#6ffb210e-696b-4398-9aa1-93ee1bf55b7a">(c)</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#03d2836c-967d-47bb-ba47-ef22bb5bbd92">(d)</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#49ef2ebc-29f7-4f89-b388-9b1a30cd748d">(e)</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#485b512a-f323-4596-a439-093b2f4e1c6c">Question 3</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ea3a6365-f160-4804-9c08-3fd470512353">Question 4</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#cd9008b4-e3ae-40f5-b647-cc2e96c2d6ba">Question 5</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#718a30bb-60df-4382-a564-e6055aeac31b">2019/20 Paper</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#336bf4d2-a042-4b4f-941e-a9650ce1ad7e">Question 1</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ac218ff3-5e56-429f-96b0-e2c4a1ded7bf">Question 2</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#abdb9063-d9da-457d-98d9-cad318026f05">Question 3</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#7ff55851-c875-4804-a1ab-514e578a9482">Question 4</a></div></nav><h1 id="6393a4ec-805e-4f2a-a2de-ccd52162350c" class="">2021/22 Paper</h1><figure id="70781e6d-7ac5-41f6-b869-1bb5b30d2969"><div class="source"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/exam2122.pdf">exam2122.pdf</a></div></figure><h2 id="3398e952-cdb0-4609-baf3-1c272aca0fa3" class="">Question 1</h2><p id="1a06dc09-14b0-4c42-b71c-aaebe5c11a63" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="2082aef0-509d-46db-b7c7-1528a5e13373"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Consider the simple BNF specification of a LOGO like language below:<pre id="ac111b1e-c6fb-4dad-ab29-d93dc471d6df" class="code"><code>&lt;lStmt&gt; ::= FD &lt;num&gt;
				| LEFT &lt;num&gt;
				| RIGHT &lt;num&gt;
				| REPEAT &lt;num&gt; &lt;lStmt&gt;
				| &lt;lStmt&gt; &lt;lStmt&gt;
&lt;num&gt; ::= &lt;digit&gt;|&lt;digit&gt;&lt;num&gt;
&lt;digit&gt; ::= 0|1|... |9</code></pre><p id="24dc6c6f-d625-4883-9903-620d6f104b62" class="">The intended semantics are that of a drawing cursor being moved in a forwards direction, rotating left or right and executing simple loops. For each of the following, state whether or not the string is generated by the grammar (assuming top level nonterminal &lt;lStmt&gt;) [5 marks]</p></div></figure><p id="5faa3c39-fde4-49cf-9337-02aea0233721" class="">(i) <code>FD 0 RIGHT 3 FD 1 LEFT 90 FD 13</code></p><p id="5266298e-2022-4925-b983-657db8561afd" class=""><strong><strong><strong>YES</strong></strong></strong></p><p id="b24ac695-f3d9-4535-9251-587f468b5afc" class="">(ii) <code>FD 10 REPEAT RIGHT 45 FD 20</code></p><p id="330af6a1-24b6-452e-a9d1-f886e4e6f4e1" class=""><strong><strong>NO</strong></strong></p><p id="a481e0ab-c922-43e8-8b6f-8591d50a57df" class="">(iii) <code>REPEAT 5 LEFT 90 FD 10 REPEAT 5 RIGHT 90 FD 10 </code></p><p id="52d866c3-bdbc-4486-8320-5d476f8b2817" class=""><strong><strong><strong>YES</strong></strong></strong></p><p id="e87a5ae9-2aa4-4095-9287-40ecc5c84514" class="">(iv) <code>REPEAT 10 FD 20 REPEAT 10 RIGHT 90 REPEAT 5</code></p><p id="433bfb76-20b2-4dd6-9a9e-f832dc2ad324" class=""><strong><strong>NO</strong></strong></p><p id="269f27c1-2a39-4940-9672-f9cfb004a943" class="">(v) <code>FD 1 RIGHT 20 LEFT 45</code></p><p id="190590a9-e0cf-433a-8b4b-bced4a1c46f9" class=""><strong><strong><strong>YES</strong></strong></strong></p><p id="22f0c850-494c-4a53-b2f2-42a7d2818d3c" class="">
</p><p id="db05a805-053a-4720-b931-7e63a63e77b0" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="a598d1c5-857e-4c62-9035-f0b11cf6e3e7"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Explain what it means for a BNF specification to be <em>ambiguous</em>. Is ambiguity likely to be problematic for the above programming language? [5 marks]</div></figure><p id="65c76b6b-900a-4c6d-8915-406f9934e6da" class="">A BNF specification is considered ambiguous when it allows multiple interpretations or parses for the same given input string. In other words, there is more than one way to derive a valid syntax tree or parse tree from the specified grammar rules.</p><p id="02f98e27-8a6c-40db-b293-2bbdcf48b3c6" class="">Inadequate precedence or associativity rules is what makes the above grammar ambiguous. When the BNF specification lacks explicit rules to handle operator precedence or associativity, it can introduce ambiguity. For example, if a grammar allows both left and right associativity for a binary operator, it may not be clear how to interpret expressions with multiple occurrences of the same operator. This can be shown with the parsing of the input string <code>REPEAT 2 FD 2 FD 2 </code> which can be parsed as both as:</p><p id="90286f70-3c2f-4154-a57e-04ca7c27c717" class="">1) &lt;lstmt&gt;</p><p id="d6454b30-110a-4627-a811-770176e1e6af" class="">&lt;lstmt&gt; &lt;lstmt&gt;</p><p id="cfe5ce4e-1811-43b8-8696-6129dbd44a45" class="">REPEAT 2 &lt;lstmt&gt;</p><p id="54ae5931-bc30-4c59-8513-bfa8fff6366a" class="">REPEAT 2 &lt;lstmt&gt; &lt;lstmt&gt;</p><p id="2e43972f-3307-4c43-bffe-93787331fb4b" class="">REPEAT 2 FD 2 &lt;lstmt&gt;</p><p id="1c620fbd-1094-40a3-9ffa-182b7929613b" class="">REPEAT 2 FD 2 FD 2 <strong>and</strong> </p><p id="7c154b20-02b6-4f22-a993-08996921036b" class="">2) &lt;lstmt&gt;</p><p id="95ee9a1e-b615-46ab-b456-c5ef6b21b3d4" class="">REPEAT 2 &lt;lstmt&gt;</p><p id="4aa7b96f-db7e-4da2-987f-07a9260cf35e" class="">REPEAT 2 &lt;lstmt&gt; &lt;lstmt&gt;</p><p id="a52795cd-69e8-461e-ae27-fa0f6a872be4" class="">REPEAT 2 FD 2 &lt;lstmt&gt;</p><p id="3eb9489f-d0f2-4e28-bd01-0354112526e5" class="">REPEAT 2 FD 2 FD 2</p><p id="d9e66a8a-f07c-4621-b1eb-13180db6e5ac" class="">
</p><p id="8ab69dda-58b3-4ac8-a32a-7625a880fbad" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="80729f54-c20a-4349-938d-cdc0dc6ae84e"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">With the aid of two examples, show that the BNF specification given in Part (a) is ambiguous in at least two distinct ways [5 marks]</div></figure><p id="68abe329-2e38-4558-a595-d504f2159ccc" class="">(<em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>see above answer)</em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></p><p id="38f4dd2d-7013-4274-af09-c1599d7b12ab" class="">
</p><p id="85bb1baf-b216-46b3-9856-8ddbab097ff5" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="45ea8c5f-f991-449f-8d29-64143a88caeb"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Rewrite and extend the grammar above so that all sources of ambiguity are removed. The language accepted by the grammar may change but you should be able to express the same range of behaviours. You may introduce block delimiters such as parentheses as extra symbols in the concrete syntax. Grammars that allow the use of block delimiters sparingly are preferred [10 marks]</div></figure><p id="e73dda65-3323-43a9-85a4-f59378d5732e" class="">To remove the ambiguities in the given BNF specification and introduce block delimiters, we can rewrite and extend the grammar as follows:</p><pre id="aee419fb-4e8c-4b98-858c-65e2833760f2" class="code"><code>&lt;lStmt&gt; ::= &lt;stmt&gt; | &lt;stmt&gt; &lt;lStmt&gt;
&lt;stmt&gt; ::= &lt;motion&gt; | REPEAT &lt;num&gt; &lt;block&gt;
&lt;block&gt; ::= &quot;{&quot; &lt;lStmt&gt; &quot;}&quot;
&lt;motion&gt; ::= FD &lt;num&gt; | LEFT &lt;num&gt; | RIGHT &lt;num&gt;
&lt;num&gt; ::= &lt;digit&gt; | &lt;digit&gt; &lt;num&gt;
&lt;digit&gt; ::= 0 | 1 | ... | 9</code></pre><p id="2492e88d-79eb-4041-b20c-e6d228a00853" class="">In this modified grammar, the &lt;lStmt&gt; non-terminal represents a sequence of statements. The &lt;stmt&gt; non-terminal represents a single statement, which can be either a motion command (&lt;motion&gt;) or a repeat loop command (REPEAT &lt;num&gt; &lt;block&gt;). The &lt;block&gt; non-terminal is introduced as a block delimiter and represents a sequence of statements enclosed within curly braces.</p><p id="c33e2b2b-906e-4c7a-887e-6489a7df4da4" class="">By introducing the &lt;block&gt; non-terminal, we eliminate the ambiguity of the original grammar, where multiple &lt;lStmt&gt; could follow a REPEAT command. Now, a repeat loop command must be followed by a &lt;block&gt; enclosed within curly braces, ensuring a clear and unambiguous structure for the language.</p><p id="555f612b-79cd-409f-ac25-2b101bbec996" class="">With these modifications, the grammar allows for the same range of behaviours as the original grammar, but with the added flexibility of using block delimiters sparingly, enabling more structured and organised programs.</p><h2 id="c73635d6-e228-4ef2-8137-2a35fcbd934a" class="">Question 2</h2><figure id="6143dd04-fcad-4d83-afa9-79ce2060a4e3" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-18_at_17.33.37.png"><img style="width:1062px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-18_at_17.33.37.png"/></a></figure><p id="edb77b2c-c9f3-40ae-9188-dc0dc28401bf" class="">Assuming a typing relation ⊢ E : T for some types T , type safety for StPL is expressed as follows: for every ⊢ E : T and every stack S of size two or more (S,E) is either (S,stop) or there is a reduction (S,E) → (S′,E′) for some S′,E′ such that ⊢ E′ : T</p><p id="4ab16bd7-74dc-45c3-bb33-8a227940ee38" class="">
</p><p id="7546dd3d-cb57-46a4-9510-6d2d2d303a74" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="41c519c8-b3ba-4cd6-8ba2-a6040357e807"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Explain why, for the notion of type safety stated above, for a well-typed expression E and some stack S then (S, E) may still get stuck [2 marks]</div></figure><p id="7d5b0748-20d0-4360-9a4d-86d05d20cc0a" class="">In the given definition of type safety for the StPL programming language, type safety ensures that for every well-typed expression E and every stack S of size two or more, either the evaluation of (S, E) results in (S, stop), or there exists a reduction (S, E) → (S&#x27;, E&#x27;) such that ⊢ E&#x27; : T.</p><p id="fad0702b-d101-4a1b-b833-06570426011e" class="">However, even with this notion of type safety, it is still possible for (S, E) to get stuck. This means that there can be situations where no reduction is possible, and the evaluation cannot progress further.</p><p id="76c8ab95-c02c-434d-8799-935e2e8603ac" class="">One reason why (S, E) may get stuck despite being well-typed is if the program encounters an unexpected situation or an error. For example, if the program tries to pop an element from an empty stack or perform an operation that is not defined for the given operands, the evaluation cannot proceed. In such cases, there might not be any valid reduction available, and the evaluation gets stuck. An example of this would be trying to evaluate the <em><em><em>add</em></em></em> expression when there is only 1 number on the stack, not 2.</p><p id="831c678f-73ee-41ac-a563-e409c230cefb" class="">Another possibility is when the program enters an infinite loop. If the expression E contains a repeat loop that does not terminate, the evaluation will keep repeating the same computation indefinitely. Since the evaluation never reaches a point where it halts or produces a result, it gets stuck.</p><p id="0ae0d729-db4a-4894-a9ca-a344ec2eba1a" class="">
</p><p id="8cee164a-7740-4984-b1e1-bad4815a4527" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="e031f512-83c1-4267-a83f-9c7d468d3bcb"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">If we can always choose an arbitrarily large initial stack S does type safety guarantee that well-typed StPL programs never get stuck? [2 marks]</div></figure><p id="1d9e3232-f1d3-49a9-b592-4663ae587a3b" class="">No, type safety alone does not guarantee that well-typed StPL programs never get stuck, even when we can choose an arbitrarily large initial stack S.</p><p id="724186d1-5176-4a15-9813-c0e7f08ca529" class="">Type safety ensures that for a well-typed expression E and every stack S of size two or more, either the evaluation of (S, E) results in (S, stop), or there exists a reduction (S, E) → (S&#x27;, E&#x27;) such that ⊢ E&#x27; : T. However, this guarantee is conditional on the availability of valid reductions.</p><p id="70adaad0-e1b7-48fe-b881-80b1417dcae0" class="">While type safety ensures that if a reduction is possible, it will preserve the well-typedness of the resulting expression, it does not address the possibility of being stuck in situations where no valid reduction exists. There may be cases where a program encounters unexpected situations, errors, or infinite loops that prevent any further reduction.</p><p id="c8f8f789-8093-4e2c-a6b6-dd903379ccb6" class="">Furthermore, the ability to choose an arbitrarily large initial stack S does not eliminate the possibility of getting stuck. The size of the stack may influence the behaviour and potential reductions, but it does not guarantee that the evaluation will always progress or terminate successfully.</p><p id="a4416774-76e3-4850-8f26-e9b65c0132e5" class="">In summary, type safety provides guarantees about the preservation of well-typedness during evaluation, but it does not ensure that well-typed StPL programs will never get stuck, even with the freedom to choose an arbitrarily large initial stack.</p><p id="70295c2b-4132-49a6-bc7b-96ffe6f9bcda" class="">
</p><p id="9b66c752-4e87-4290-a7e4-fb758fc159b7" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="ac457b1d-c58f-465b-9d4c-d0029c519ce7"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Define a suitable grammar of types that could be used to represent the different kinds of expressions in this language [2 marks]</div></figure><p id="94a2f337-1f7e-4811-b166-03df687c57c3" class="">A suitable grammar of types for the StPL programming language can be defined as follows:</p><p id="b9060251-b884-4b30-b6d8-5f5e561e2d2c" class="">T ::= bool | int | stack -&gt; T</p><p id="62628bb3-593a-4f9e-a658-9b15e46d8251" class="">Explanation:</p><ul id="92d9b596-b116-4cf1-939e-2a43604ae387" class="bulleted-list"><li style="list-style-type:disc">The type &quot;bool&quot; represents boolean values (true or false) in StPL.</li></ul><ul id="1389f54b-9196-48dc-bc42-cb101d6509e0" class="bulleted-list"><li style="list-style-type:disc">The type &quot;int&quot; represents integer values in StPL.</li></ul><ul id="bceaf40c-24f6-4656-af64-2b14eb96c35f" class="bulleted-list"><li style="list-style-type:disc">The type &quot;stack -&gt; T&quot; represents a function type, where the input is a stack and the output is of type T. This type is used to represent operations that take a stack as input and produce a result of a specific type.</li></ul><p id="9f13bdec-bce2-46db-abef-6880a2fe0fb9" class="">Using this grammar, we can assign types to the different kinds of expressions in StPL. For example:</p><ul id="2c432ce1-c552-4b9d-b060-2599f0ca3a6d" class="bulleted-list"><li style="list-style-type:disc">The expressions &quot;true&quot; and &quot;false&quot; have type &quot;bool&quot;.</li></ul><ul id="de8db33e-24d0-420b-969b-e7b85eeae27f" class="bulleted-list"><li style="list-style-type:disc">Integer literals like &quot;n&quot; have type &quot;int&quot;.</li></ul><ul id="2ba3c5ba-db5f-4c8d-a3f6-18eab38496fe" class="bulleted-list"><li style="list-style-type:disc">The rest of the expression are of type “stack -&gt; T”</li></ul><p id="5dfcb4ea-65a1-41ae-a2d3-64697a2409a0" class="">
</p><p id="35689e77-3bbc-45d6-8db4-5bdf06f58a81" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="76559265-01ff-435d-a903-9dd02968045d"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Provide a set of type rules that guarantee type safety as defined above for StPL [13 marks]</div></figure><p id="bebb7b9e-60d8-4067-ae80-c2818238b054" class="">To ensure type safety in StPL as defined above, we can provide a set of type rules that check the consistency of types throughout the program. Here is a set of type rules for StPL:</p><ol type="1" id="d3d545f7-6ce7-4622-bd30-63e260e3a54a" class="numbered-list" start="1"><li>Constants:
⊢ true : bool
⊢ false : bool
⊢ n : int (where n is an integer literal)</li></ol><ol type="1" id="948cb4f6-e446-42aa-be89-e10e171e73dc" class="numbered-list" start="2"><li>Stack Manipulation Operations:
⊢ dup : stack -&gt; stack
⊢ pop : stack -&gt; stack
⊢ pushE : stack -&gt; stack</li></ol><ol type="1" id="68ba49d0-aa9d-4198-b326-1222b8a63c51" class="numbered-list" start="3"><li>Arithmetic Operation:
⊢ add : stack -&gt; stack</li></ol><ol type="1" id="76493b00-6628-4489-bd6a-81964c591fc6" class="numbered-list" start="4"><li>Conditional Operation:
⊢ isZero : stack -&gt; bool</li></ol><ol type="1" id="e0bc098a-c6a3-476d-8a43-b838a66b6caa" class="numbered-list" start="5"><li>If-Then-Else Expression:
If ⊢ E1 : bool, ⊢ E2 : T, and ⊢ E3 : T, then ⊢ if E1 then E2 else E3 : T</li></ol><ol type="1" id="4bc712e8-9fbc-4e86-91c0-d1184559af32" class="numbered-list" start="6"><li>Sequence Expression:
If ⊢ E1 : T and ⊢ E2 : T, then ⊢ E1 ; E2 : T</li></ol><ol type="1" id="8b13fb13-33dd-4035-9f52-0b20d0d98cf8" class="numbered-list" start="7"><li>Repeat Expression:
If ⊢ E : stack -&gt; stack, then ⊢ repeatE : stack -&gt; stack</li></ol><pre id="a690cff1-33ef-4496-8c29-cfb484fed37d" class="code"><code>..
---------
Γ ⊢n:Int

..
---------
Γ ⊢true:Bool

..
---------
Γ ⊢false:Bool

Γ⊢E1 :Bool  Γ⊢E2 :T  Γ⊢E3 :T 
-----------------------------
Γ⊢ if E1 then E2 else E3 :T</code></pre><p id="91f4655f-b10c-43a3-83f9-122f327e2759" class="">
</p><p id="db2c4b2a-050c-4db6-a727-92e23bea82be" class="">(e)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="2f791c20-bfb2-4452-bca4-e31ad416fce1"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Using your type rules, give a type derivation tree for the StPL program:
<code>repeat (add; if isZero then push 1; stop else dup; push −1)</code> [6 marks]</div></figure><p id="744fb2ef-1739-4d11-8409-969adb690f7e" class="">Here&#x27;s a type derivation tree for the StPL program:</p><pre id="50408f39-de9d-4ccb-b314-5182cdd76f1a" class="code code-wrap"><code>              ⊢ add : stack -&gt; stack             (Stack Manipulation Operations)
------------------------------------------------------------
 ⊢ add; if isZero then push 1; stop else dup; push -1 : stack -&gt; stack

          ⊢ isZero : stack -&gt; bool                       (Conditional Operation)
------------------------------------------------------------
 ⊢ if isZero then push 1; stop else dup; push -1 : stack -&gt; stack

         ⊢ push 1 : stack -&gt; stack               (Stack Manipulation Operations)
------------------------------------------------------------
 ⊢ push 1; stop else dup; push -1 : stack -&gt; stack

               ⊢ stop : stack -&gt; stack           (Stack Manipulation Operations)
------------------------------------------------------------
 ⊢ stop else dup; push -1 : stack -&gt; stack

                ⊢ dup : stack -&gt; stack           (Stack Manipulation Operations)
------------------------------------------------------------
 ⊢ dup; push -1 : stack -&gt; stack

           ⊢ push -1 : stack -&gt; stack            (Stack Manipulation Operations)
------------------------------------------------------------
 ⊢ push -1 : stack -&gt; stack

------------------------------------------------------------
 ⊢ repeat (add; if isZero then push 1; stop else dup; push -1) : stack -&gt; stack</code></pre><h2 id="826dc493-9fb8-42b2-8ce4-38f5a4657320" class="">Question 3</h2><p id="e1f22b80-2b19-470b-8c00-900c0baf4401" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="b78b10e9-95f9-4435-a767-1e03513beb5b"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Explain the main difference between the <em>shared variable </em>and <em>message passing </em>approaches to concurrent programming [2 marks]</div></figure><ol type="1" id="e01ed257-2bef-4857-b9bd-31aec7d031d5" class="numbered-list" start="1"><li>Shared Variable:
In the shared variable approach, concurrent processes or threads share access to common variables stored in a shared memory space. These variables serve as a means of communication and coordination between processes. Processes can read from and write to shared variables to exchange data and synchronise their activities. Synchronisation primitives like locks, semaphores, or monitors are used to control access to shared variables and avoid conflicts. Concurrent access to shared variables must be carefully managed to prevent race conditions and ensure correctness.</li></ol><ol type="1" id="b1cb3f15-4879-4570-97a8-36482963b1c8" class="numbered-list" start="2"><li>Message Passing:
In the message passing approach, concurrent processes or threads communicate by sending and receiving messages. Processes have their own private memory spaces, and communication occurs by explicitly sending messages containing data or requests to other processes. The receiving process explicitly receives the message and extracts the necessary information from it. Processes do not directly access each other&#x27;s memory or variables.</li></ol><ul id="39059520-42e9-4411-8c88-113a6722744a" class="bulleted-list"><li style="list-style-type:disc">Synchronisation and coordination are achieved through message passing primitives, such as send and receive operations.</li></ul><ul id="736e6b0e-1211-404b-a61f-49800e835e35" class="bulleted-list"><li style="list-style-type:disc">Message passing allows for explicit control over communication and can enforce strict synchronisation patterns.</li></ul><ul id="06aa98b6-82f8-4b2a-9ea8-76ea4363fb4c" class="bulleted-list"><li style="list-style-type:disc">Message passing can provide a clear separation between processes, reducing the risk of race conditions and promoting modularity</li></ul><p id="a2cefc42-fc52-48a1-bdda-95abea45d1d8" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="7954528f-e3ce-4415-8ad2-e89901beb261"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Explain the difference between asynchronous and synchronous mes-
sage passing communication [3 marks]</div></figure><ol type="1" id="913caf72-cac0-476d-958b-82565a56de50" class="numbered-list" start="1"><li>Asynchronous Message Passing:
In asynchronous message passing, the sender process sends a message to the receiver process and continues its execution without waiting for a response or acknowledgement from the receiver. The sender does not block or wait for the receiver to receive or process the message. The communication is one-way, and the sender proceeds with its tasks immediately after sending the message. The sender and receiver operate independently and asynchronously. Communication occurs without explicit synchronisation or coordination.</li></ol><p id="5165d2a4-c844-44b7-b626-a25bac5beb01" class="">Asynchronous message passing provides loose coupling between processes and can enhance concurrency and parallelism. However, it may require additional mechanisms to handle potential issues such as message loss or the need for reliable delivery.</p><ol type="1" id="0a118d69-00b0-45e8-bc67-804b97ac4cae" class="numbered-list" start="1"><li>Synchronous Message Passing:
In synchronous message passing, the sender process sends a message to the receiver and waits until the receiver has received or processed the message before continuing its execution. The sender blocks until it receives a response or acknowledgement from the receiver, ensuring that both processes are synchronised. Communication is typically performed through request-response pairs.</li></ol><p id="87f360d3-7e98-4587-b6a8-f4d2b12d8189" class="">Synchronous message passing enables tighter coordination and synchronisation between processes, ensuring that communication is completed before proceeding. It provides a reliable means of communication but may introduce potential delays if the receiver takes a long time to process the message.</p><p id="a87cecad-8362-40d3-ad0f-148b3b3a5003" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="820700c7-bf8d-4d46-95c3-be5a30868e3e"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Consider the following Java interfaces:<pre id="95eb8234-546d-4f77-b94d-4a202ef36653" class="code"><code>interface SendEndPoint&lt;T&gt;{
void send(T o);
}
interface ReceiveEndPoint&lt;T&gt;{
T receive();
}
interface Channel&lt;T&gt; implements
SendEndPoint&lt;T&gt;,ReceiveEndPoint&lt;T&gt; {}</code></pre><p id="423aa8ae-6988-4d51-a8fe-cb866aa993a3" class="">Using the monitor synchronisation primitives, <code>wait</code>, <code>notify</code> and <code>notifyAll</code> of Java, show how one can give an implementation of a Channel object that supports both synchronous and asynchronous communication between a single sender thread and a single receiver thread. You may use Java- like pseudocode rather than syntactically correct Java. (10 marks)</p></div></figure><pre id="05b29c8b-f927-4ecd-b0aa-8d4a8eaf4c07" class="code"><code>class Channel&lt;T&gt; implements SendEndPoint&lt;T&gt;, ReceiveEndPoint&lt;T&gt; {
  private T message;
  private boolean messageAvailable;

  public synchronized void send(T o) {
    // If a message is already available, wait for the receiver to consume it
    while (messageAvailable) {
      wait();
    }

    // Store the message and indicate its availability
    message = o;
    messageAvailable = true;

    // Notify the receiver that a message is ready
    notify();
  }

  public synchronized T receive() {
    // If no message is available, wait for the sender to provide one
    while (!messageAvailable) {
      wait();
    }

    // Retrieve the message and reset its availability
    T receivedMessage = message;
    messageAvailable = false;

    // Notify the sender that the message has been consumed
    notify();

    return receivedMessage;
  }
}</code></pre><p id="ed2545d0-778b-407c-83c2-0e62d28ef039" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="d3255d89-f680-43cc-a26b-7ac2587e4003"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">What would be the effect on the behaviour of your code if more than one thread is given a SendEndPoint channel instance ? [3 marks]</div></figure><ol type="1" id="fff2086a-972e-4b49-9912-826c6e18056a" class="numbered-list" start="1"><li>Race conditions: Multiple threads trying to send messages concurrently through the same SendEndPoint channel instance can result in race conditions. Race conditions occur when the outcome of the execution depends on the relative timing or interleaving of operations. In this case, the messages sent by different threads may overlap or conflict with each other, leading to unpredictable results.</li></ol><ol type="1" id="c1142136-2261-4728-9f9a-56194579e5bc" class="numbered-list" start="2"><li>Data corruption: When multiple threads attempt to modify shared data simultaneously, it can result in data corruption. In the given scenario, if multiple threads are given a SendEndPoint channel instance and they concurrently call the send() method, the shared variables storing the message and message availability status may become inconsistent or corrupted. This can lead to messages being lost, overwritten, or improperly synchronised.</li></ol><ol type="1" id="6be57b9d-781c-4e3d-8efd-4e2027972a02" class="numbered-list" start="3"><li>Inconsistent notifications: The notify() method used in the send() and receive() methods notifies only one waiting thread. If multiple threads are waiting on the same channel instance, it&#x27;s uncertain which thread will be awakened. This can lead to situations where some threads remain waiting indefinitely, causing a deadlock or livelock.</li></ol><p id="cb928b77-066f-4dac-b2b3-ec39dae7d629" class="">(e)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="c8608981-f615-4860-844c-df5d96926201"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">What would be the effect on the behaviour of your code if more than one thread is given a ReceiveEndPoint channel instance ? [3 marks]</div></figure><ol type="1" id="107064a8-85f1-476a-8641-0170b97b1f09" class="numbered-list" start="1"><li>Race conditions: Multiple threads trying to receive messages concurrently through the same ReceiveEndPoint channel instance can result in race conditions. The threads may contend for the same message, leading to unpredictable results or message loss.</li></ol><ol type="1" id="f1dfb62e-cd17-4d4e-903d-766d1809588c" class="numbered-list" start="2"><li>Data corruption: When multiple threads attempt to access and modify shared data simultaneously, it can result in data corruption. If multiple threads are given a ReceiveEndPoint channel instance and they concurrently call the receive() method, the shared variables storing the message and message availability status may become inconsistent or corrupted. This can lead to incorrect or incomplete message retrieval.</li></ol><ol type="1" id="185f9a63-b6fb-420f-adef-0ffd972705b9" class="numbered-list" start="3"><li>Inconsistent notifications: The notify() method used in the send() and receive() methods notifies only one waiting thread. If multiple threads are waiting on the same channel instance, it&#x27;s uncertain which thread will be awakened. This can lead to situations where some threads remain waiting indefinitely, causing a deadlock or livelock.</li></ol><p id="a502f154-311a-4501-ac0c-309332fc517e" class="">(f)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="f8e42a9f-3102-4b51-af41-cb4fcc4a0941"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">For systems that support compareAndSet, explain how this may be used to provide a better implementation of your communication Channel in Part (c) [4 marks]</div></figure><p id="5ff01ca2-b5e4-4332-8d45-0b781dd864fc" class="">The compareAndSet (CAS) operation is an atomic operation commonly supported by concurrent programming systems. It allows for an atomic check of a variable&#x27;s value and a conditional update of the value, all in a single atomic operation.</p><p id="d0130eea-d2ee-42ac-b4f9-4042ef6f93b6" class="">In the original implementation, synchronisation was achieved using the wait() and notify() methods. These methods introduce some overhead and potential blocking when threads are waiting or notifying each other. By incorporating compareAndSet, we can minimize the need for explicit blocking and improve the efficiency of the Channel class:</p><pre id="a058d729-9a4f-4947-995d-54d6b3e5c7e1" class="code"><code>class Channel&lt;T&gt; implements SendEndPoint&lt;T&gt;, ReceiveEndPoint&lt;T&gt; {
  private AtomicReference&lt;T&gt; message = new AtomicReference&lt;&gt;();
  private AtomicBoolean messageAvailable = new AtomicBoolean(false);

  public void send(T o) {
    while (!messageAvailable.compareAndSet(false, true)) {
      // Wait or perform a different operation until the message becomes available
    }

    message.set(o);
  }

  public T receive() {
    while (!messageAvailable.compareAndSet(true, false)) {
      // Wait or perform a different operation until a message is available
    }

    return message.get();
  }
}</code></pre><p id="db4b9621-c100-4874-84c9-8a6723f19795" class="">The compareAndSet method is used to atomically check if the message is available (false) and update it to indicate that a message is now available (true). This ensures that only one thread successfully sets the messageAvailable variable to true.</p><h2 id="f8579bdd-ce14-4722-9db6-96ac22a446e4" class="">Question 4</h2><figure id="6c29a3e2-1ad9-49cc-95de-32179efd6076" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-18_at_16.37.19.png"><img style="width:288px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-18_at_16.37.19.png"/></a></figure><p id="b6088e7b-0c49-4496-acf6-72f08dd3172d" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="3d6b9183-8ac7-44d6-8bac-2e13619b41a7"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Are the nodes x0 and y0 trace equivalent? Justify your answer [2 marks]</div></figure><p id="bd36eae1-662e-4730-8c23-04a76af41396" class="">Traces from x0: {ε, a, ab, abc, abcb, ε + ab(cb)*}</p><p id="bb582ead-98d3-460a-bd8a-2c7a0c49df98" class="">Traces from y0: {ε, a, ab, abc, abcb, ε + ab(cb)*}</p><p id="564aa344-e01d-4252-9c19-00f1232cb907" class="">Since y0{<em>trace} = </em>x0{<em>trace}</em> x0 and y0 <strong>are</strong> trace equivalent!</p><p id="b2ac043f-43c2-4947-bd66-091591ca006c" class="">
</p><p id="6b5e1717-54a4-410e-9ff9-c98bd12fce94" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="27ad76bb-f3dd-47e8-a3da-9818a0d990d3"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Show that x0 simulates y0</div></figure><p id="6df733a7-0b49-4c16-af94-44076faca66f" class=""><strong>Let&#x27;s define the simulation relation R as follows:</strong> R = {(y0, x0), (y2, x1), (y3, x2)}</p><p id="49af366e-7e2f-4a35-964f-b73c8e386c66" class="">With this relation, we can verify that it satisfies the conditions for a simulation relation between A and B:</p><ol type="1" id="94a89851-72e4-40e8-bdfe-9d8e0d926e2d" class="numbered-list" start="1"><li>The initial state pair (y0, x0) is in R, as y0 is an initial state of B and x0 is an initial state of A</li></ol><ol type="1" id="79f6df5a-fec1-4305-9437-7968d96ac757" class="numbered-list" start="2"><li>For the transition y0 -a-&gt; y2 in B, we have the transition x0 -a-&gt; x1 in A, and (y2, x1) is in R.</li></ol><ol type="1" id="28fef7c8-1ce1-4b4b-abf2-ef17018b328a" class="numbered-list" start="3"><li>For the transition y2 -b-&gt; y3 in B, we have the transition x1 -b-&gt; x2 in A, and (y3, x2) is in R.</li></ol><ol type="1" id="c18a5ba3-e47a-4635-9824-8c024b050690" class="numbered-list" start="4"><li>For the transition  y3 -c-&gt; y2 in B, we have the transition x2 -c-&gt; x1 in A, and (y2,x1) is in R</li></ol><p id="bc92fc18-44f4-48d5-8707-bbdc6ce66518" class=""><strong>Hence x0 simulates y0</strong></p><p id="be367123-ce1e-449a-ab86-21195fb1c3c8" class="">
</p><p id="1fca3171-b398-45b3-be15-40d7da2b5bef" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="68084a4c-1846-428b-9800-21c6b3f6685c"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">State what it means for two nodes in a labelled transition systems to be bisimilar [4 marks]</div></figure><p id="d32521eb-05f9-428c-bd6f-78714d92759e" class="">Two nodes in a labeled transition system are said to be bisimilar if there exists a bisimulation relation between the states they represent. Bisimilarity is a behavioral equivalence relation that captures the notion that two states behave in the same way with respect to their outgoing transitions.</p><p id="3ba22530-d798-4a81-9ddd-7ded7cdb1dc2" class="">A bisimulation relation R between two nodes x and y in a labeled transition system satisfies the following conditions:</p><ol type="1" id="68063fd5-c00a-4096-acae-bc6da5089893" class="numbered-list" start="1"><li>Initial State Condition: If x is an initial state, then y is also an initial state.</li></ol><ol type="1" id="6d4e6b56-65ea-4fc7-85a3-7ca006c34be7" class="numbered-list" start="2"><li>Labelled Transition Condition: For every transition x -a-&gt; x&#x27; in the system, there exists a transition y -a-&gt; y&#x27; such that (x&#x27;, y&#x27;) is in R.</li></ol><ol type="1" id="b2f3e4cb-5624-4b9a-9a2e-7b5547a2fd1f" class="numbered-list" start="3"><li>Dual Labelled Transition Condition: For every transition y -a-&gt; y&#x27; in the system, there exists a transition x -a-&gt; x&#x27; such that (x&#x27;, y&#x27;) is in R.</li></ol><ol type="1" id="c32c57b6-599e-49d2-bf3b-8240db69e3aa" class="numbered-list" start="4"><li>Inductive Condition: If (x&#x27;, y&#x27;) is in R, then for every transition x&#x27; -a-&gt; x&#x27;&#x27; in the system, there exists a transition y&#x27; -a-&gt; y&#x27;&#x27; such that (x&#x27;&#x27;, y&#x27;&#x27;) is in R. Likewise, if (x&#x27;, y&#x27;) is in R, then for every transition y&#x27; -a-&gt; y&#x27;&#x27; in the system, there exists a transition x&#x27; -a-&gt; x&#x27;&#x27; such that (x&#x27;&#x27;, y&#x27;&#x27;) is in R.</li></ol><p id="dd0ec586-5002-4425-8289-d32da6766180" class="">In simpler terms, two nodes x and y are bisimilar if they have the same initial status, and for every possible action, they have corresponding transitions that lead to bisimilar states in a mutually consistent manner.</p><p id="021768f8-697c-4cb2-bec3-98e9580783ee" class="">Establishing bisimilarity between nodes is crucial for verifying behavioural equivalence and proving properties about labeled transition systems.</p><p id="ccdcbbd3-008c-4b83-a333-4cf66135e802" class="">
</p><p id="4bad01ed-a38a-4585-a507-53e388d3cde0" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="e8584e1f-2e97-4364-bf5d-48e95d774ed8"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Using the simulation game, show that x0 and y0 are not bisimilar [6 marks]</div></figure><p id="a14e4423-9fa6-4008-b0a5-782aec1fcec5" class="">We start in the state (y0,x0). The demon chooses to play at y0, choosing y0 <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>a</mi><mo lspace="0em" rspace="0em">→</mo></mfrac></mrow><annotation encoding="application/x-tex">\frac {a} {\rightarrow}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">→</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><span>﻿</span></span> y1. We have to match with x0 <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>a</mi><mo lspace="0em" rspace="0em">→</mo></mfrac></mrow><annotation encoding="application/x-tex">\frac {a} {\rightarrow}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">→</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><span>﻿</span></span> x1</p><p id="283df584-36e3-4ef3-9892-69a544077466" class="">The game continues from (y1, x1). The demon now chooses to play at x1, and chooses x1 <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>b</mi><mo lspace="0em" rspace="0em">→</mo></mfrac></mrow><annotation encoding="application/x-tex">\frac {b} {\rightarrow}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">→</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><span>﻿</span></span> x2</p><p id="af6e4e5e-9a12-4886-96d9-04e7625cfdfc" class="">We cannot respond, since there is no a move from y1 — we lose! This is a winning strategy for demon as the player had no choice in their responses so the demon will win however player responds</p><p id="83288f20-0433-4fb4-8812-9898912e44c1" class="">
</p><p id="3e3b502a-6986-4c4f-822b-d5eb47e94389" class="">(e)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="bd628583-24b3-4630-b3b4-94990ea1ebe5"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Are x0 and z0 bi-similar? Justify your answer with full proof [9 marks]</div></figure><p id="71c23111-6c3f-4188-b43a-b0d8a73df9ef" class="">x0 and z0 <strong><strong><strong><strong>are </strong></strong></strong></strong>bi-similar. The proof for this is provided below:</p><p id="a207ecde-b5c6-4534-a6cb-61590a6bd99b" class=""><strong>Let&#x27;s define the simulation relation R as follows:</strong> R = {(x0, z0), (x1, z1), (x1, z2), (x1,z3), (x2,z4), (x2,z5)}</p><p id="42486c74-5c56-4822-992e-f73b08ba5a3e" class="">With this relation, we can verify that it satisfies the conditions for a bi-simulation relation between <strong>x</strong> and <strong>z</strong>:</p><ol type="1" id="cda772ce-22cf-4adc-b6e3-77d62acb86e8" class="numbered-list" start="1"><li>The initial state pair (x0, z0) is in R, as x0 is an initial state of <strong>x</strong> and z0 is an initial state of <strong>z</strong></li></ol><ol type="1" id="e0fe27a1-6695-445b-9a47-ff070136c6eb" class="numbered-list" start="2"><li>For the transition x0 -a-&gt; x1 in <strong>x</strong>, we have the transition z0 -a-&gt; z1 in <strong>z</strong>, and (x1, z1) is in R. The inverse of this transition also holds.<ol type="a" id="a1e47bfc-ec6a-4279-ac1f-169c4c9538a5" class="numbered-list" start="1"><li>We also have the transition z0 -a-&gt; z2 in <strong>z</strong>, and (x1,z2) is in R. The inverse of this transition also holds.</li></ol><ol type="a" id="df80055a-2826-4e99-86af-ddd1e6895f93" class="numbered-list" start="2"><li>Finally, we also have the transition z0 -a-&gt; z3 in <strong>z</strong>, and (x1,z3) is in R. The inverse of this transition also holds.</li></ol></li></ol><ol type="1" id="dca2ef76-4960-435b-bd39-5299abce83f5" class="numbered-list" start="3"><li>For the transition x1 -b-&gt; x2 in <strong>x</strong>, we have the transition z1 -b-&gt; z5 in <strong>z</strong>, and (x2, z5) is in R. The inverse of this transition also holds.<ol type="a" id="9e063449-1cab-490b-bc62-b04e3874bdef" class="numbered-list" start="1"><li>We also have the transition z3 -b-&gt; z4 in <strong>z</strong>, and (x2,z4) is in R. The inverse of this transition also holds.</li></ol></li></ol><ol type="1" id="837d53c8-048c-49c3-a434-e3841f5f2591" class="numbered-list" start="4"><li>For the transition  x2 -c-&gt; x1 in <strong>x</strong>, we have the transition z4 -c-&gt; z3 in <strong>z</strong>, and (x1,z3) is in R. The inverse of this transition also holds.<ol type="a" id="fdd58981-cfce-44fb-aeb3-f274745ce41a" class="numbered-list" start="1"><li>Finally, we also have the transition z5 -c-&gt; z3 in <strong>z</strong>, and (x1,z3) is in R. The inverse of this transition also holds.</li></ol></li></ol><p id="d158c7e9-a646-40c3-87f4-043e1d1adc84" class=""><strong>Hence x0 bi-simulates z0</strong></p><h1 id="9cb72507-52bb-477b-82ed-5979909273ea" class="">2020/21 Paper</h1><figure id="8c789cb2-8dde-4f30-b0e4-6e3b5ebd9409"><div class="source"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/exam2021.pdf">exam2021.pdf</a></div></figure><h2 id="4c53e2c5-4398-40b3-a00d-672d78258e05" class="">Question 1</h2><p id="a27bee1f-3e29-4956-8c9f-b5aa7048030e" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="87302ddd-a5a3-463a-807c-fe3494c96da1"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Consider the simple BNF specification below:</em><pre id="232b5713-ce4c-481d-bd62-9195021a0c3a" class="code"><code>&lt;ifstm&gt;   ::= if (&lt;boolexp&gt;) &lt;stmt&gt;
				    | if (&lt;boolexp&gt;) &lt;stmt&gt; else &lt;stmt&gt;
&lt;boolexp&gt; ::= true | false 
&lt;stmt&gt;    ::= &lt;ifstm&gt; | skip</code></pre><p id="1dc1dd14-c8a2-41d1-8fd0-8a0c0422b3d3" class=""><em>For each of the following, state whether or not the string is generated by the grammar (assuming top level non-terminal</em> <code>&lt;stmt&gt;</code> <em>)</em>
</p><ul id="3f804976-3c35-4891-8569-4aed6e27c9d4" class="bulleted-list"><li style="list-style-type:disc">(i) <strong>if </strong>( <strong>true </strong>) <strong>skip else false</strong></li></ul><ul id="6747fbba-7d1c-42a2-b27b-29d5f931557d" class="bulleted-list"><li style="list-style-type:disc">(ii) <strong>if </strong>(<strong>true</strong>) <strong>if </strong>(<strong>false</strong>) <strong>else skip</strong></li></ul><ul id="90d8e7a1-51d4-43f4-8d38-91397b141b0e" class="bulleted-list"><li style="list-style-type:disc">(iii) <strong>if </strong>( <strong>true </strong>) <strong>if </strong>( <strong>false </strong>) <strong>skip else skip else skip</strong></li></ul><ul id="5d5fe1c8-bbef-49d0-90c4-4d0103533be6" class="bulleted-list"><li style="list-style-type:disc">(iv) <strong>if </strong>(<strong>true</strong>) <strong>if </strong>(<strong>true</strong>) <strong>skip else if </strong>(<strong>true</strong>) <strong>if </strong>(<strong>true</strong>) <strong>if </strong>(<strong>true</strong>) <strong>skip </strong></li></ul><p id="ad3339cc-e32e-4302-8b92-e72a237b5921" class="">[4 marks]</p></div></figure><p id="cd5b2c83-6426-48d5-b176-d612eaa518a9" class="">(i) is generated</p><p id="85c925cb-738d-4219-8fab-dec0a3e33902" class="">(ii) is <strong><strong><strong><strong>not </strong></strong></strong></strong>generated</p><p id="cfe226df-259b-4051-be6a-387107bdcaca" class="">(iii) is generated</p><p id="bfa20936-167d-40f0-a66c-c887a53a8291" class="">(iv) is generated</p><p id="e6aa2221-44a5-458e-8067-7986bc004b5e" class="">
</p><p id="7ef1b712-4ba2-4087-95c4-c3828b7a9251" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="789b8ce1-cf66-4e95-becc-06a0267289ee"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Explain what it means for a BNF specification to be ambiguous. Why is ambiguity considered to be problematic in programming language design? [5 marks]</em></div></figure><p id="8cb36927-2c51-4786-8ff5-5c36716736d8" class=""><em>(see above answer for last paper)</em></p><p id="c61e8e81-0c60-448f-976c-246424ff2062" class="">
</p><p id="49f0255b-adcd-4dec-8578-12cfaef7f4af" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="135e63e2-089a-45fe-89d8-4a96069da25b"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>With the aid of an example, show that the BNF specification given in Part (a) is ambiguous [5 marks]</em></div></figure><p id="106ecfb9-fc44-4bd4-92f0-e1a62e864902" class="">example 1) <strong>if </strong>(<strong>true</strong>) <strong>if </strong>(<strong>false</strong>) <strong>skip</strong> <strong>else skip </strong>- unsure which if statement the else belong to</p><p id="de3eda1f-89f7-4e6e-8b63-0167e1f200dd" class="">
</p><p id="a701cd90-3097-47fb-86ff-28a648b562b3" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="ef4bb38b-da8f-4ae8-92df-55961cfceda3"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Extend the grammar to obtain a more realistic set of boolean expressions. In particular, expressions can contain boolean variables, binary logical operations ∧ and →, and a unary operation ¬. Design your grammar so that ∧ and → both associate to the right (i.e. a ∧ b ∧ c should mean a ∧ (b ∧ c) and a → b → c should mean a → (b → c) [11 marks]</em></div></figure><pre id="ee57ccef-07b3-4152-9b24-0eb0919cf859" class="code"><code>&lt;ifstm&gt;   ::= if (&lt;boolexp&gt;) &lt;stmt&gt;
            | if (&lt;boolexp&gt;) &lt;stmt&gt; else &lt;stmt&gt;
&lt;boolexp&gt; ::= &lt;boolterm&gt; | &lt;boolterm&gt; ∧ &lt;boolexp&gt;
&lt;boolterm&gt; ::= &lt;boolfactor&gt; | &lt;boolfactor&gt; → &lt;boolterm&gt;
&lt;boolfactor&gt; ::= true | false | &lt;var&gt; | ¬&lt;boolfactor&gt; | (&lt;boolexp&gt;)
&lt;var&gt;     ::= &lt;letter&gt; | &lt;letter&gt;&lt;var&gt;
&lt;stmt&gt;    ::= &lt;ifstm&gt; | skip</code></pre><p id="01e71d21-2803-42e4-812e-6d0e5fc3ea89" class="">In this modified grammar, we introduce additional non-terminals to represent boolean expressions, terms, and factors. The &lt;boolterm&gt; non-terminal represents a term in the boolean expression, which can consist of a single &lt;boolfactor&gt; or a combination of a &lt;boolfactor&gt; followed by ∧ and another &lt;boolexp&gt;. This ensures that ∧ associates to the right.</p><p id="b5e56e83-e726-44aa-ac8d-3390ff6c53f5" class="">Similarly, the &lt;boolfactor&gt; non-terminal represents a factor in the boolean expression. It can be a boolean constant (true or false), a variable (&lt;var&gt;), the negation of a &lt;boolfactor&gt; (¬&lt;boolfactor&gt;), or a sub-expression enclosed within parentheses (&lt;boolexp&gt;).</p><p id="cb287d2c-3649-4bc5-a23a-2e48c4226828" class="">To allow for boolean variables, we introduce the &lt;var&gt; non-terminal, which represents a sequence of letters. This allows variables to have names composed of one or more letters</p><h2 id="d2c80e22-43b6-48a8-8dbc-87a460d303be" class="">Question 2</h2><p id="6ca474e2-ddb8-4af8-b91b-160a3e6e16be" class="">This question is based on the Toy language described in the Accompanying Reference Sheet. We will also work with an extension of the Toy language named <em>ToyFix </em>described as follows: We extend the grammar of expressions with an expression fix E and include the following type and reduction rules to the type system and small step call-by-value semantics:</p><figure id="8eb04bc3-3337-4d90-8e93-ee7a907afef6" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-25_at_13.34.24.png"><img style="width:1682px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-25_at_13.34.24.png"/></a></figure><p id="679259d6-0e32-4c4f-9830-c04a8db42834" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="b20942dc-c5f7-4651-9fa0-aac765556a96"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>The small step operational semantics provided for the Toy language are for a call-by-value semantics. Write a big step operational semantics for ToyFix by providing semantics for the fix operator that could be used with the conventional big-step call-by-value semantics for Toy. You may assume the big step operational semantics for Toy as provided in the lecture notes [4 marks]</em></div></figure><figure id="03eadac6-cf39-45bc-8c1e-e084af5ea2f4" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/unnamed.png"><img style="width:557px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/unnamed.png"/></a></figure><p id="35fadd8d-e654-4c11-9732-d6b6fbb166c6" class="">
</p><p id="f87b947d-65ad-4306-95e5-a4bf8baac0c3" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="71e5a4a5-5d0f-45ae-8906-7690579cb266"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>For any closed expression E of the ToyFix language, Is it true that this expression will evaluate to some value V in the small step semantics </em><em><strong>if and only if </strong></em><em>it evaluates to the same value V in the big step semantics defined in Part (a)? Justify your answer by providing a counter-example or an informal argument as to why this is the case
[5 marks]</em></div></figure><p id="fa1b8f48-dde0-45a6-9a9f-187942df6e6f" class="">The target of the small step is the same as the argument supplied in the big step semantic above, which means they would make the same judgments about whether they would terminate or not.</p><p id="c4628063-d617-4a75-9a76-494397b4ffa6" class=""><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>Looking for a relationship between the small step semantics supplied above and the big step written above to show that they terminate in the same way</em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></p><p id="bc3b94ba-4c63-4056-b71a-4447f5eb758a" class="">
</p><h3 id="6ffb210e-696b-4398-9aa1-93ee1bf55b7a" class="">(c)</h3><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="cffa8529-7670-4af6-9709-42b102632393"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Let <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span><span>﻿</span></span> be the expression:
<code><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>f</mi><mtext> </mtext><mi>x</mi><mo>&lt;</mo><mi>n</mi><mtext> </mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mtext> </mtext><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>x</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>e</mi><mi>l</mi><mi>s</mi><mi>e</mi><mtext> </mtext><mi>x</mi></mrow><annotation encoding="application/x-tex">if \space x&lt;n \space then \space f(x+x) \space else \space x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace"> </span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span><span class="mspace"> </span><span class="mord mathnormal">x</span></span></span></span></span><span>﻿</span></span></code><p id="7e12d77d-8ac8-49a5-8003-d2d480574851" class="">and let F be the expression:
<code><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><mi>n</mi><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo stretchy="false">)</mo><mi>λ</mi><mo stretchy="false">(</mo><mi>f</mi><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo>→</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo stretchy="false">)</mo><mi>λ</mi><mo stretchy="false">(</mo><mi>x</mi><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo stretchy="false">)</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">λ(n : Int)λ(f : Int → Int)λ(x : Int)B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span><span>﻿</span></span></code></p><p id="c2cc5671-0e61-4927-ad13-4ab1ad6527db" class="">Assuming that <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Γ</mi><mo>⊢</mo><mi>B</mi><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">Γ ⊢ B : Int</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">Γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span></span></span></span></span><span>﻿</span></span> where <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Γ</mi></mrow><annotation encoding="application/x-tex">Γ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Γ</span></span></span></span></span><span>﻿</span></span> is:
<style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mi>f</mi><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo>→</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mi>x</mi><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">n:Int,f :Int→Int,x:Int</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span></span></span></span></span><span>﻿</span></span></p><p id="884b122e-ca66-46e2-bb58-276c90ccc50b" class="">has a valid type derivation, give a type derivation for the expression fix (F 3) in the ToyFix language [6 marks]</p></div></figure><p id="b70211c4-fcef-4661-8b83-6547320c4f34" class="">…</p><p id="462236d2-ee01-4be6-b1f0-f29773ae6d3d" class="">
</p><h3 id="03d2836c-967d-47bb-ba47-ef22bb5bbd92" class="">(d)</h3><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="4caa2776-a202-481e-8abd-d4597597e80d"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Show the sequence of reductions of the expression (fix (F 3)) 2, using the small step call-by-value operational semantics of the ToyFix language. Continue the reduction sequence until a value is reached [6 marks]</em></div></figure><p id="bc57a77a-f28f-4367-a28a-93100355be53" class="">…</p><p id="1c9d6f6b-cde5-471f-984f-51131fba8903" class="">
</p><h3 id="49ef2ebc-29f7-4f89-b388-9b1a30cd748d" class="">(e)</h3><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="f54a0f63-e076-44b3-9978-cac4f8e43db5"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Show the evaluation of the expression (fix (F 3)) 2, using the big step operational semantics of the ToyFix language as given in Part (a) [4 marks]</em></div></figure><p id="95e3fb77-b0b0-4758-870e-dadc151aa264" class="">…</p><h2 id="485b512a-f323-4596-a439-093b2f4e1c6c" class="">Question 3</h2><p id="01f722a0-1321-452e-bd9b-2dee72ecdda6" class="">In this question we consider a typed programming language, Mat, given by the following grammar:</p><pre id="9c9f2c08-9900-43d7-829a-956412338f27" class="code"><code>E,F ::= x | M | toVec E | E^T | E+E | EE | E⊗E |letx =E in E
M ::= (V,V,...,V) //Matrix Literals
V ::= (v,v,...,v) //Column Vectors
T ::= Mat n×n | Vec n</code></pre><p id="d0b3ef42-280b-4f74-99a1-edaeac916116" class="">The type Mat n × m represents a matrix with n rows and m columns and Vec n represents a column vector of dimension n. Note that x is drawn from a set of variables, n is drawn from the set of natural numbers and v ranges over integers. The intended semantics is that this is a language of matrices. The operation + represents matrix addition, E^T represents matrix transpose, juxtaposition (e.g. M1M2) represents multiplication of the matrix M1 by the matrix M2, and ⊗ represents outer product. Finally, toVec E takes a matrix containing a single column and treats it as a column vector.</p><p id="2e0a26d7-0641-4906-99b3-8fc7dcbee8e3" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="8fbd9b1c-cda0-492c-832c-aaf61d391159"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Explain what is meant by an </em><strong><em>inductively defined typing</em></strong><em> </em><strong><em>relation</em></strong><em> for a programming language [5 marks]</em></div></figure><p id="1714c8e6-8202-4bd1-84ed-2fdc2a2f29a5" class="">An inductively defined typing relation for a programming language is a set of rules that define how types are assigned to program expressions in a language. It specifies the conditions under which an expression is considered well-typed, meaning it conforms to the language&#x27;s type system</p><ol type="1" id="91b23359-686c-4d0b-8794-a281dc608cee" class="numbered-list" start="1"><li><strong>Syntax</strong>: The typing relation is defined based on the syntax of the programming language. It takes into account the different kinds of expressions, such as variables, literals, function calls, arithmetic operations, conditionals, etc.</li></ol><ol type="1" id="6dfb018c-4c5b-4580-908f-2da903c45f97" class="numbered-list" start="2"><li><strong>Type Assignments</strong>: The typing relation assigns types to expressions. Each rule in the relation specifies the type(s) that an expression can have based on the types of its sub-expressions or its context. For example, a rule might state that an arithmetic expression can have a numeric type if its sub-expressions also have numeric types.</li></ol><ol type="1" id="63cce78b-2e39-4c87-bc6f-369fd5b371e4" class="numbered-list" start="3"><li><strong>Well-Typed Expressions</strong>: A well-typed expression is one that satisfies the rules defined by the typing relation. It means that the expression is assigned a type that is consistent with the language&#x27;s type system. If an expression is not well-typed, it indicates a type error in the program.</li></ol><ol type="1" id="9b8429ee-a06b-41f7-8da3-609013ca34e2" class="numbered-list" start="4"><li><strong>Inductive Definition</strong>: The typing relation is usually defined inductively, meaning it is defined recursively based on smaller expressions or sub-expressions. The rules build upon each other to handle different cases and compositions of expressions. The base cases define the types for simple expressions, while the recursive cases define the types for more complex expressions in terms of their sub-expressions.</li></ol><ol type="1" id="cb61a0dc-04c0-4453-819d-4dab4f7f25fd" class="numbered-list" start="5"><li><strong>Soundness and Completeness</strong>: The typing relation should be sound, meaning that if an expression is well-typed according to the relation, it will not produce a runtime type error. It should also be complete, meaning that if an expression is not well-typed, there should be a rule in the typing relation that captures the type error.</li></ol><p id="55238ece-de17-4a55-9050-ea93cbceb68e" class="">
</p><p id="7ecce82a-3b48-4a8a-b96a-4a102524ae8f" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="1a5c480a-9d5b-4f4f-92c1-60cbc9d8c203"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Explain what is meant by </em><strong><em>type inference</em></strong><em> for a programming language and indicate why it is feasible to perform type inference for Mat [5 marks]</em></div></figure><p id="24ef035f-2c08-4b8d-83f3-db2f98733c1c" class=""><em>For languages with implicit types, we often refer to the type checking part of compilation as </em><em><strong>Type Inference </strong></em><em>rather than Type Checking</em></p><p id="24c6bb64-8324-48d7-aad0-b10d5da62920" class="">Type inference is a process in programming languages where the types of expressions are automatically deduced by the compiler or interpreter, without the need for explicit type annotations in the code. It allows the programming language to infer the types of variables, functions, and expressions based on their usage and context</p><ol type="1" id="2c323cca-4e05-4380-9b9d-2def6c6b9d1d" class="numbered-list" start="1"><li><strong>Implicit Typing</strong>: Type inference enables implicit typing, where the programmer does not have to explicitly specify the types of variables or expressions. The type inference algorithm analyses the code and determines the types based on the available information.</li></ol><ol type="1" id="86e8f3a4-3ebb-4f2b-ae55-cf7a8a4f3e8a" class="numbered-list" start="2"><li><strong>Static Typing</strong>: Type inference is commonly associated with statically typed languages, where types are checked at compile-time. By deducing the types during compilation, type errors can be caught early, improving program reliability and performance.</li></ol><ol type="1" id="1172ad5a-68de-4a27-be20-6c5f0df2d18e" class="numbered-list" start="3"><li><strong>Expression Analysis</strong>: The type inference algorithm examines the expressions in the code, considering the operations performed, the operands used, and the context in which they appear. It propagates type information from known types to unknown types, gradually building a type graph.</li></ol><ol type="1" id="791833fd-a0f0-4523-8d02-d93f1a4ce12a" class="numbered-list" start="4"><li><strong>Constraint-based Approach</strong>: Type inference often uses a constraint-based approach, where constraints are generated based on the expressions and their expected behavior. These constraints capture the relationships between variables and expressions, helping to determine their types.</li></ol><ol type="1" id="a6552aee-a877-40eb-af96-5c2bfd78e301" class="numbered-list" start="5"><li><strong>Type Unification</strong>: In the process of type inference, the inferred types are unified with the constraints. Unification involves resolving any conflicts or discrepancies between types to ensure consistency and coherence in the type system.</li></ol><ol type="1" id="7c5dcd6b-f8b3-4b21-b77b-d04bd150093f" class="numbered-list" start="6"><li><strong>Type Completeness</strong>: Type inference aims to infer the most specific and accurate types for expressions. It considers all possible paths and branches of the code to ensure complete type inference. However, there may be cases where the type inference algorithm cannot determine a unique type, resulting in type ambiguity.</li></ol><ol type="1" id="6ea21d65-c905-4128-9f37-3930268e2945" class="numbered-list" start="7"><li><strong>Benefits</strong>: Type inference has several benefits. It reduces the burden on programmers by eliminating the need for explicit type annotations, making code more concise and readable. It also enables polymorphism and generic programming by inferring type parameters automatically.</li></ol><p id="78f12490-4886-466b-8ecc-7543381516c1" class="">Type inference is feasible for Mat because there are only two specified types indicated above for Mat, those being <em>Mat n × m</em> which represents a matrix with n rows and m columns and <em>Vec n</em> represents a column vector of dimension n, and these two types are very easily inferred from the program because all one needs to do is check to see if the input/output expression is a single column vector of size 1 row and if it is, one can deduce that the type is of <em>Vec n</em>. Any other “well-typed” expression will then consequently be of type <em>Mat n × m</em></p><p id="d7a765f9-9395-4a39-ae6a-f0b3dc90b1e3" class="">
</p><p id="a8ece2c5-a2bd-4514-841f-39663bee1edb" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="4bfe16f6-ee65-42d0-b1b8-e37e6f15bd8f"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Give an inductively defined typing relation for Mat that respects the dimensions of the matrix operations. Recall that addition is done between matrices of the same dimensions. Transpose switches the number of rows and columns. Matrix multiplication takes matrices of dimensions n × k and k × m and returns matrices of dimensions n × m. Outer product takes two column vectors V and W (of possibly different dimension) and is defined as V ⊗ W  = VW^T [15 marks]</em></div></figure><p id="9afd8b22-cc5b-4baf-9edf-7f1d4ac37fc1" class="">To define an inductively defined typing relation for Mat that respects the dimensions of matrix operations, we can use typing rules to enforce the appropriate dimensions for each operation. Here is one possible set of typing rules:</p><ol type="1" id="3959f015-0486-4b65-8cca-1ec8d3901820" class="numbered-list" start="1"><li>Variable:</li></ol><pre id="493953b8-739e-43fe-a05d-845d0cab470a" class="code code-wrap"><code>x : T
</code></pre><p id="3c75b32d-ddb4-4a31-bf95-5ba48a526f4f" class="">where <code>T</code> is the type assigned to variable <code>x</code>.</p><ol type="1" id="cfee7ce8-1ba3-42d2-bdc4-7452c98131c8" class="numbered-list" start="2"><li>Matrix Literal:</li></ol><pre id="e92cc301-3c9d-489b-862c-665e0f6acc67" class="code code-wrap"><code>(V1, V2, ..., Vn) : Mat n × m
</code></pre><p id="837d2f0b-6351-4f5c-a751-f22e7f217928" class="">where <code>V1, V2, ..., Vn</code> are column vectors of dimension <code>m</code>.</p><ol type="1" id="c3ebc568-ee6e-43cb-b35d-9170997b08b9" class="numbered-list" start="3"><li>Column Vector:</li></ol><pre id="f244af3b-1557-4274-8bd1-21337cb06252" class="code code-wrap"><code>(v1, v2, ..., vn) : Vec n
</code></pre><p id="54373c50-2c7d-444c-bc6c-6a822fcea209" class="">where <code>v1, v2, ..., vn</code> are integers.</p><ol type="1" id="b35c5a2a-466c-4be9-a132-37d694bb1899" class="numbered-list" start="4"><li>Matrix Transpose:</li></ol><pre id="d18a3417-600b-472c-a7ff-470ecdd6bae1" class="code code-wrap"><code>E : Mat n × m
---------------
E^T : Mat m × n
</code></pre><ol type="1" id="1584eedd-6b25-4341-8684-d33926617ea7" class="numbered-list" start="5"><li>Matrix Addition:</li></ol><pre id="e1346a68-1523-4061-a533-ddd40f78e36e" class="code code-wrap"><code>E1 : Mat n × m    E2 : Mat n × m
--------------------------------
E1 + E2 : Mat n × m
</code></pre><ol type="1" id="a4c3afc7-c9f9-4352-bfe1-b2e6c960674b" class="numbered-list" start="6"><li>Matrix Multiplication:</li></ol><pre id="91f9b7ad-2eba-4c62-b487-0dd4b8fb51ce" class="code code-wrap"><code>E1 : Mat n × m    E2 : Mat m × p
--------------------------------
E1E2 : Mat n × p
</code></pre><ol type="1" id="e21ba46f-1ef6-49d6-a218-e0fe46aae5ad" class="numbered-list" start="7"><li>Outer Product:</li></ol><pre id="1700350c-db9d-4b40-a596-fa49cf0a8f71" class="code code-wrap"><code>E1 : Vec n    E2 : Vec m
------------------------
E1 ⊗ E2 : Mat n × m
</code></pre><ol type="1" id="0060cc0e-ea0d-42b2-8329-672ea51be58f" class="numbered-list" start="8"><li>Let-binding:</li></ol><pre id="3d96a662-e61c-4948-b419-fd1e01333406" class="code code-wrap"><code>E1 : T    E2 : T&#x27;
---------------------
let x = E1 in E2 : T&#x27;
</code></pre><p id="58a736d6-6cb7-44b3-994b-363008935c7a" class="">where <code>T</code> and <code>T&#x27;</code> are the types of expressions <code>E1</code> and <code>E2</code>, respectively, and <code>x</code> is a variable.</p><ol type="1" id="4ed68bac-ec41-44bb-97a7-92fbd7e65af0" class="numbered-list" start="9"><li>Conversion to Column Vector:</li></ol><pre id="363f535e-13bc-472b-90b0-937f64fdd030" class="code code-wrap"><code>E : Mat n × 1
---------------
toVec E : Vec n
</code></pre><p id="ce1c4956-0061-433e-81f5-1a4a2b101c57" class="">These typing rules ensure that the dimensions of matrices and vectors in different operations are compatible. The rules are applied recursively to build the typing relation for expressions in the Mat language.</p><h2 id="ea3a6365-f160-4804-9c08-3fd470512353" class="">Question 4</h2><p id="3287530c-eb8a-4b68-b5b4-9922700f0a9a" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="dde42044-e68f-4bb0-b5ec-471d85bd0335"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Explain the main difference between </em><strong><em>deadlock</em></strong><em> and </em><strong><em>livelock</em></strong><em> [3 marks]</em></div></figure><ol type="1" id="a26725f5-bfd2-4701-92a1-e245324485d0" class="numbered-list" start="1"><li><strong>Deadlock</strong>: Deadlock occurs when two or more processes or threads are unable to proceed because each is waiting for a resource that is held by another process within the same set. In other words, it is a situation where processes are stuck in a circular dependency, and none of them can proceed. Deadlock results in a complete halt of the involved processes, requiring external intervention to resolve the situation.</li></ol><ol type="1" id="0793f92f-6069-4ca9-8ba8-154774897c10" class="numbered-list" start="2"><li><strong>Livelock</strong>: Livelock, on the other hand, is a situation where processes are continuously changing their states in response to the states of other processes, but none of them are making progress. It is an active state where processes are constantly performing actions, but these actions do not lead to any forward progress. Livelock can occur when processes are trying to resolve a deadlock but end up repeatedly taking actions that prevent them from making any real progress.</li></ol><p id="7dfdd37a-8823-4b99-922f-5e5e93a09836" class="">Deadlock is a state of inactivity where processes are stuck and cannot proceed due to resource dependencies, while livelock is an active but unproductive state where processes are continuously changing their states but cannot make progress toward their desired goals.</p><p id="ac718a12-b34e-40af-8875-5fa8516dabc7" class="">
</p><p id="fcbad00c-25b5-419d-84e3-933d2add05ac" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="8a270879-d5c4-4188-b367-10f87be92b88"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Explain why the following code is not thread-safe. Use the line numbers of the code to refer to specific points of execution </em><pre id="99eb6b55-b2a8-4ee5-a9f4-904e56f02b84" class="code"><code>1. public class Foo {
2. 
3. private Foo instance = null;
4. 
5. public Foo getInstance () {
6. 	if(instance == null) {
7. 	synchronized (Foo.class) {
8. 		if(instance == null) {
9. 			instance = new Foo();
10. 				}
11. 	}
12.  }
13.  return instance;
14.  } 
15. }</code></pre><p id="cce02ebe-9975-448c-8684-be9297a46e21" class=""><em>[5 marks]</em></p></div></figure><p id="e57d47fb-443b-41e6-ba67-e4f1fb61a208" class="">The provided code is not thread-safe due to a potential race condition that can occur when multiple threads access the <code>getInstance()</code> method simultaneously. Here&#x27;s an explanation of the issue:</p><ol type="1" id="2e8ca638-3a30-4959-baab-63b3be1a32e4" class="numbered-list" start="1"><li>The <code>instance</code> variable is declared on line 3 as an instance of <code>Foo</code> and is initially set to <code>null</code>.</li></ol><ol type="1" id="289e39c4-7359-4182-b22a-1ae5fc13d3e5" class="numbered-list" start="2"><li>When a thread calls the <code>getInstance()</code> method (line 5), it first checks if <code>instance</code> is <code>null</code> (line 6).</li></ol><ol type="1" id="3a5c4bb7-72fe-464b-8798-c61ce144bc0e" class="numbered-list" start="3"><li>If <code>instance</code> is indeed <code>null</code>, the thread enters the synchronized block (line 7), which locks on the <code>Foo.class</code> object.</li></ol><ol type="1" id="39718e36-924e-476b-9a72-ac3cc88ee91b" class="numbered-list" start="4"><li>However, there is a possibility that multiple threads can reach line 6 concurrently and find <code>instance</code> to be <code>null</code>. In this scenario, each thread will enter the synchronized block (line 7).</li></ol><ol type="1" id="55149bbd-6916-4624-8a84-d2b16ae8f45b" class="numbered-list" start="5"><li>The first thread to enter the synchronized block (line 7) will create a new instance of <code>Foo</code> (line 9) and assign it to the <code>instance</code> variable.</li></ol><ol type="1" id="7dc59811-2785-4db9-8322-cfb3621684eb" class="numbered-list" start="6"><li>Meanwhile, the other threads that have also entered the synchronized block will wait for the lock to be released.</li></ol><ol type="1" id="bdd5872d-7842-4272-b1a3-be61ba78b398" class="numbered-list" start="7"><li>Once the first thread exits the synchronized block, the lock is released, and the waiting threads will acquire the lock one by one and enter the synchronized block.</li></ol><ol type="1" id="3a8739f4-7c82-41c3-8d87-dcd3a087f8f6" class="numbered-list" start="8"><li>Each subsequent thread that enters the synchronized block will create a new instance of <code>Foo</code> (line 9), even though an instance has already been created by the first thread. This leads to multiple instances of <code>Foo</code> being created.</li></ol><ol type="1" id="3873c708-6823-444b-9b8f-bbed69cc1212" class="numbered-list" start="9"><li>Eventually, all threads will exit the synchronized block and return the instance variable (line 13), but they will each have a reference to a different instance of <code>Foo</code>.</li></ol><p id="145874c7-2617-4709-8ed5-6db3ea06a421" class="">Due to this race condition, the <code>getInstance()</code> method can return different instances of <code>Foo</code> to different threads, violating the expected behavior of a singleton pattern. To make the code thread-safe, the double-checked locking pattern or other synchronization mechanisms can be used to ensure that only one instance of <code>Foo</code> is created and returned.</p><p id="6874fbbb-222f-4d04-9f5e-635d0afb06f7" class="">
</p><p id="2d4c3a0a-9d75-4b3a-8a6e-d70e0a643371" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="d6dd5318-9979-4eaf-9440-40256a40399a"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Suggest a modification to the above code in order to make it thread-safe and explain why it would do so [4 marks]</em></div></figure><p id="b512518a-2e15-4682-9b43-134bf584aac2" class="">To make the code thread-safe, you can use the double-checked locking pattern with an additional volatile keyword. Here&#x27;s the modified code and an explanation of why it makes the code thread-safe:</p><pre id="6925b5e0-4ff6-4d36-9237-92ce4a145d17" class="code code-wrap"><code>public class Foo {

    private volatile Foo instance = null;

    public Foo getInstance() {
        if (instance == null) {
            synchronized (Foo.class) {
                if (instance == null) {
                    instance = new Foo();
                }
            }
        }
        return instance;
    }
}
</code></pre><p id="905126bb-22f5-4f47-b040-6addeffdc6df" class="">Explanation:</p><ol type="1" id="8b7c21f3-2b59-4a7c-95c5-1257b5c64db8" class="numbered-list" start="1"><li>The <code>volatile</code> keyword added to the <code>instance</code> variable (line 3) ensures that any read or write to the variable is directly performed on the main memory, rather than relying on local caches of each thread. This ensures that changes to <code>instance</code> are immediately visible to all threads.</li></ol><ol type="1" id="12ff77b4-9b1d-44be-a0bc-c5eb2121f879" class="numbered-list" start="2"><li>When a thread calls the <code>getInstance()</code> method, it first checks if <code>instance</code> is <code>null</code> (line 5).</li></ol><ol type="1" id="e4c53bb2-8429-4ab6-adb9-f883eeff8442" class="numbered-list" start="3"><li>If <code>instance</code> is <code>null</code>, the thread enters the synchronized block (line 7), which ensures that only one thread can create the instance at a time.</li></ol><ol type="1" id="f29f3c17-dc3a-426c-937c-da6604f7f9e2" class="numbered-list" start="4"><li>Inside the synchronized block, the thread checks again if <code>instance</code> is <code>null</code> (line 8). This is the &quot;double-checked&quot; part of the pattern.</li></ol><ol type="1" id="a71ebe7a-c5cc-4c21-ade5-6086c1a1b576" class="numbered-list" start="5"><li>If <code>instance</code> is still <code>null</code>, the thread creates a new instance of <code>Foo</code> (line 9) and assigns it to <code>instance</code>.</li></ol><ol type="1" id="743c03b0-091a-4c03-a2cd-8f992de5271b" class="numbered-list" start="6"><li>Since the <code>instance</code> variable is marked as <code>volatile</code>, the change is immediately visible to all threads, preventing other threads from creating additional instances.</li></ol><ol type="1" id="cbb69dd0-d60d-4558-b8fb-1b3542eba2f4" class="numbered-list" start="7"><li>Subsequent threads that reach the synchronized block after the first instance has been created will find that <code>instance</code> is no longer <code>null</code>, and they will skip the creation step.</li></ol><ol type="1" id="7251abe9-4c64-4ad8-aee3-f510292bedd8" class="numbered-list" start="8"><li>All threads will return the same instance of <code>Foo</code> (line 13), ensuring that the singleton pattern is maintained.</li></ol><p id="c691071e-5b1b-4ba5-a897-e0ead6addc0e" class="">By using the double-checked locking pattern with the <code>volatile</code> keyword, we ensure that only one instance of <code>Foo</code> is created and returned, making the code thread-safe. The <code>volatile</code> keyword guarantees visibility of changes to the <code>instance</code> variable across threads, and the double-checked locking ensures efficient access without unnecessary synchronization once the instance has been created.</p><p id="864be0e9-4717-4f6d-bece-d99c467d36f1" class="">
</p><p id="24bc926e-7806-44ee-aee8-ff58fc1a9b3b" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="1f69be52-03a2-4f7d-9fac-410f4932dd98"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Explain how </em><em><code>compareAndSet</code></em><em> works [3 marks]</em></div></figure><p id="b1f16cdd-ca2f-4e9f-8252-4887583aceb3" class=""><code>compareAndSet</code> is a concurrency control mechanism commonly used in multi-threaded programming languages and libraries. It is typically associated with atomic operations or compare-and-swap (CAS) instructions provided by hardware architectures. Here&#x27;s an explanation of how compareAndSet works:</p><ol type="1" id="59dac054-5751-460c-9e20-885d6f7204c2" class="numbered-list" start="1"><li><strong>Atomicity</strong>: compareAndSet is an atomic operation, meaning it guarantees that the operation is executed indivisibly and without interference from other threads. This atomicity is crucial in concurrent programming to ensure that the operation is performed as a single, uninterruptible step.</li></ol><ol type="1" id="0b45eda4-e3f1-44cd-9c41-5e0f1f10d183" class="numbered-list" start="2"><li><strong>Comparison and Update</strong>: The compareAndSet operation involves comparing the current value of a shared variable with an expected value and conditionally updating it to a new value. It consists of two main steps:<ul id="c6b197f3-58c6-4ad3-8df3-0efd77295634" class="bulleted-list"><li style="list-style-type:disc"><strong>Comparison</strong>: The operation compares the current value of the shared variable with an expected value. If the comparison is successful, it indicates that the variable has not been modified by another thread since the expected value was read.</li></ul><ul id="764b6d3c-1f78-443e-b9a3-f15596f7752b" class="bulleted-list"><li style="list-style-type:disc"><strong>Update</strong>: If the comparison succeeds, the operation updates the shared variable with a new value, which is typically based on some computation or modification. If the comparison fails, meaning the current value does not match the expected value, the operation does not perform the update.</li></ul></li></ol><ol type="1" id="24b82bb4-e8ba-4f56-8f11-7616f1821e08" class="numbered-list" start="3"><li><strong>Atomicity and Synchronization</strong>: The compareAndSet operation ensures atomicity and synchronization by utilizing low-level primitives provided by the underlying hardware or runtime. These primitives, such as atomic compare-and-swap instructions, provide a way to perform the comparison and update steps atomically and without interference from other threads.</li></ol><p id="6097f6e4-58ae-485f-88a9-5600ceaac059" class="">Overall, compareAndSet allows for safe modification of shared variables in a concurrent setting. It helps prevent race conditions and ensures that modifications are applied atomically and consistently, reducing the likelihood of data corruption or inconsistencies caused by concurrent access.</p><p id="2f2d6833-96e3-4718-8504-cfcaca6119fc" class="">
</p><p id="6c2ff413-01ca-43a9-a33d-97d2877def9a" class="">(e)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="847551e3-f5d3-422c-8638-a08ff032511a"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>For each call to compareAndSet in the following code, devise a scenario where the call fails (i.e. returns false). The poll operation retrieves and removes the head of this queue, or returns null if this queue is empty. Use the line numbers of the code to refer to specific points of execution</em><figure id="957ae246-3030-4b01-8e25-998370d9472c" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-25_at_13.53.53.png"><img style="width:672px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-25_at_13.53.53.png"/></a></figure><figure id="05417b68-abb8-498a-afdf-64f635ab74af" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-25_at_13.54.14.png"><img style="width:672px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-25_at_13.54.14.png"/></a></figure><p id="1dd5249a-95bd-4376-baf2-a55bc53d5851" class=""><em>[10 marks]</em></p></div></figure><p id="36082cb5-b0db-439c-baa4-54e3d068a051" class="">For each call to <code>compareAndSet</code> in the provided code, here are the scenarios where the call can fail (i.e., return <code>false</code>):</p><ol type="1" id="8f4b89f6-7328-4769-ba8e-98548aed02f5" class="numbered-list" start="1"><li><strong>Scenario for </strong><code><strong>tail.compareAndSet(currentTail, next)</strong></code><strong> (line 33)</strong>:<ul id="77d5e4ce-d95d-450b-9470-e26618c42510" class="bulleted-list"><li style="list-style-type:disc">Suppose there are multiple threads simultaneously executing the <code>poll()</code> method.</li></ul><ul id="69a27949-b177-4360-8754-39ce3042469f" class="bulleted-list"><li style="list-style-type:disc">Thread A executes <code>currentTail = tail.get()</code> and successfully retrieves the current tail node.</li></ul><ul id="4951be75-ab52-4128-a76b-67019f8bb008" class="bulleted-list"><li style="list-style-type:disc">Meanwhile, Thread B executes the <code>poll()</code> method as well and completes the <code>tail.compareAndSet(currentTail, next)</code> call before Thread A.</li></ul><ul id="3e3d41dd-00e1-4b46-94fc-52de856f40bd" class="bulleted-list"><li style="list-style-type:disc">Thread B successfully removes the current tail node, updates the tail reference to the next node, and returns the item.</li></ul><ul id="5136182c-6d11-4b58-a9f7-60892d516fdc" class="bulleted-list"><li style="list-style-type:disc">When Thread A attempts to execute <code>tail.compareAndSet(currentTail, next)</code>, it fails because the expected value (<code>currentTail</code>) is no longer the actual value of <code>tail</code>.</li></ul><ul id="3dd342d0-2890-4db1-9cb8-5ba4eb188d44" class="bulleted-list"><li style="list-style-type:disc">As a result, Thread A cannot update the tail reference and will have to retry the operation.</li></ul></li></ol><ol type="1" id="e60d3f21-a6c3-4b43-a8fc-983ba9153714" class="numbered-list" start="2"><li><strong>Scenario for </strong><code><strong>head.compareAndSet(currentHead, next)</strong></code><strong> (line 36)</strong>:<ul id="91523f45-b5be-48cf-a215-c3c46eacd4ee" class="bulleted-list"><li style="list-style-type:disc">Suppose there are multiple threads simultaneously executing the <code>poll()</code> method.</li></ul><ul id="3e68b5a3-bad6-461f-9dd2-c51e27d11d65" class="bulleted-list"><li style="list-style-type:disc">Thread A executes <code>currentHead = head.get()</code> and successfully retrieves the current head node.</li></ul><ul id="fbb1fcae-741c-46d0-9c76-6ecc48d8809e" class="bulleted-list"><li style="list-style-type:disc">Meanwhile, Thread B executes the <code>poll()</code> method as well and completes the <code>head.compareAndSet(currentHead, next)</code> call before Thread A.</li></ul><ul id="fd90484d-fb46-41ac-aeb5-9c0cb95eb299" class="bulleted-list"><li style="list-style-type:disc">Thread B successfully removes the current head node, updates the head reference to the next node, and returns the item.</li></ul><ul id="362330d5-efc7-4a0f-9fa2-93e0b28b7e55" class="bulleted-list"><li style="list-style-type:disc">When Thread A attempts to execute <code>head.compareAndSet(currentHead, next)</code>, it fails because the expected value (<code>currentHead</code>) is no longer the actual value of <code>head</code>.</li></ul><ul id="016c64a7-23cb-43e1-bc9b-c99e119725a7" class="bulleted-list"><li style="list-style-type:disc">As a result, Thread A cannot update the head reference and will have to retry the operation.</li></ul></li></ol><p id="f4706f5a-6a95-4a9f-a6f8-aabbed0da2db" class="">These scenarios illustrate potential race conditions where multiple threads are trying to modify the head and tail references simultaneously. In such cases, one thread can successfully update the reference before another thread, causing the compareAndSet operation to fail for subsequent threads.</p><h2 id="cd9008b4-e3ae-40f5-b647-cc2e96c2d6ba" class="">Question 5</h2><figure id="d98f1acf-b724-463f-a352-1db88140c045" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-25_at_12.44.46.png"><img style="width:528px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-25_at_12.44.46.png"/></a></figure><p id="df665fb8-3de2-415d-96c7-4880cfa036f2" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="2719fef5-1713-4a97-9036-85c4c3e7a3f4"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>List all the traces that originate at x0 [2 marks]</em></div></figure><p id="b5b27a77-735d-4c40-9d03-bced28d85aec" class="">Traces from x0: {ε, a, b, ac, bc, aca, bcb, acb, bca, ((a + b)*c(a + b)*)* }</p><p id="6c7e3e30-929c-4310-9fb1-ca8b2079adfd" class="">
</p><p id="090916a0-3c14-4eaf-858d-6264725e5163" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="a7bba6cb-554b-4423-addb-047ed365fc8a"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Are the nodes y0 and x0 trace equivalent? Justify your answer [2 marks]</em></div></figure><p id="cb97c2d2-6225-48e0-8bcd-a5fc9b3b070b" class="">Traces from y0: {ε, a, b, ac, aca, acb}</p><p id="d519cfda-4000-406b-b5d7-9956516cfcf2" class="">Since the traces from x0 and y0 are not the same, because x0 contains bc, bcb, … and y0 does not, the two nodes are not trace equivalent</p><p id="7fde4e0e-9225-4bfb-bac9-272b2a4449f5" class="">
</p><p id="f815f817-0187-40de-8969-5156905b4f21" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="c06aa59b-6207-4518-b34b-38e16c29f6c5"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Show that x0 simulates y0 [4 marks]</em></div></figure><p id="0f90408c-d6e6-4476-81e5-848d69893916" class=""><strong>Let&#x27;s define the simulation relation R as follows:</strong> R = {(y0, x0), (y1, x1), (y2, x1)}</p><p id="17868bf9-2132-4c61-ba36-3c98bb192215" class="">With this relation, we can verify that it satisfies the conditions for a simulation relation between A and B:</p><ol type="1" id="9db579ed-c28f-4e6c-9b2c-149e47b647c4" class="numbered-list" start="1"><li>The initial state pair (y0, x0) is in R, as y0 is an initial state of the right LTS and x0 is an initial state of the left LTS</li></ol><ol type="1" id="52f2b9e7-2f47-43b9-aa6d-dc3cdaef273e" class="numbered-list" start="2"><li>For the transition y0 -a-&gt; y1, we have the transition x0 -a-&gt; x1, and (y1, x1) is in R</li></ol><ol type="1" id="c74bc139-0854-4d06-8c7a-f81940ad6bc0" class="numbered-list" start="3"><li>For the transition y0 -b-&gt; y2, we have the transition x0 -b-&gt; x1, and (y2, x1) is in R.</li></ol><ol type="1" id="ecd6c44f-e83f-4174-84c2-1989f8b7c048" class="numbered-list" start="4"><li>For the transition  y1 -c-&gt; y0, we have the transition x1 -c-&gt; x0, and (y0,x0) is in R</li></ol><p id="069eb73d-d84b-4c32-9a2e-1fcfce4c5f90" class=""><strong>Hence x0 simulates y0</strong></p><p id="508dfd4d-6801-442b-a9ac-d922a212b0cf" class="">
</p><p id="d1830dd4-4259-4ea8-8e06-6816830eff74" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="cfefd1c0-577a-4b93-bc4a-337ccf41f4eb"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Show that y0 does not simulate x0 [4 marks]</em></div></figure><p id="0904218e-a06b-4013-ba2b-f0e539b8473a" class="">We start in position (x0,y0) and the demon chooses x0 <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>b</mi><mo lspace="0em" rspace="0em">→</mo></mfrac></mrow><annotation encoding="application/x-tex">\frac {b} {\rightarrow} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">→</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><span>﻿</span></span> x1. We have to respond with y0 <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>b</mi><mo lspace="0em" rspace="0em">→</mo></mfrac></mrow><annotation encoding="application/x-tex">\frac {b} {\rightarrow} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">→</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><span>﻿</span></span> y2.</p><p id="91d08062-dda7-4c3d-b5af-938bf93838a6" class="">The game now continues from (x1,y2). The demon now chooses x1  <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>c</mi><mo lspace="0em" rspace="0em">→</mo></mfrac></mrow><annotation encoding="application/x-tex">\frac {c} {\rightarrow} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">→</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><span>﻿</span></span>  x0, and we are stuck since we cannot play an a move from y2. </p><p id="f875918e-6ebc-4cc6-9c5d-555eec6159a3" class="">The demon wins – note that this is a winning strategy since we had no choices to make, the demon is guaranteed to win every time, if he follows this strategy. <strong>Thus y0 does not simulate x0.</strong></p><p id="1b077a2c-7c18-475a-82f2-f803002a7766" class="">
</p><p id="ee2d17f0-134a-4b24-9a51-d3a375bc87dc" class="">(e)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="a75296c6-1880-402b-8711-994a32cea931"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%"><em>Are x0 and y0 bi-similar? If yes then prove this, otherwise add a single labelled edge to one of the transition systems given and prove that x0 and y0 are bi-similar in the amended systems [13 marks]</em></div></figure><p id="477c9e1e-6303-4081-8e5b-ad3b2fbcd904" class="">x0 and y0 are <strong><strong><strong><strong>not </strong></strong></strong></strong>bi-similar, as we just proved that y0 does not simulate x0 and a bi-simulation requires there to be a simulation relation between both LTSs in both ways.</p><p id="7b16091c-aca1-4541-a3d3-40c8e32e2101" class="">We can add a single labelled edge <em><strong><em><strong>c </strong></em></strong></em>on the LTS system to the right from y2 to y0, making the two systems bi-similar. The proof for this is provided below:</p><p id="51954888-7c98-410f-906e-a730b9a56fcc" class=""><strong>Let&#x27;s define the bi-simulation relation R as follows:</strong> R1 = {(y0, x0), (y1, x1), (y2, x1)} and R2 = {(x0,y0), (x1,y1), (x1,y2)}</p><p id="75163ca4-db5e-40c8-b354-c9d6146a5097" class="">With this relation, we can verify that it satisfies the conditions for a bi-simulation relation between the two systems:</p><ol type="1" id="f15d359c-85ef-40e7-ac53-9f94feec83d9" class="numbered-list" start="1"><li>The initial state pair (y0, x0) is in R1, as y0 is an initial state of the right LTS and x0 is an initial state of the left LTS. Similarly, the inverse (x0,y0) is in R2 so this node is bi-similar.</li></ol><ol type="1" id="5e8a0bdb-700b-4ac3-b0aa-54a87c38b34c" class="numbered-list" start="2"><li>For the transition y0 -a-&gt; y1, we have the transition x0 -a-&gt; x1, and (y1, x1) is in R and the inverse is true as well</li></ol><ol type="1" id="733aafa7-743d-46bd-b3fb-11f1c2627a55" class="numbered-list" start="3"><li>For the transition y0 -b-&gt; y2, we have the transition x0 -b-&gt; x1, and (y2, x1) is in R and the inverse is true as well</li></ol><ol type="1" id="aec230d9-e6fd-4d3e-b27f-cd8ede43b19f" class="numbered-list" start="4"><li>For the transition y2 -c→ y0, we have the transition x1 -c→ x0, and (y0,x0) is in R and the inverse is true as well</li></ol><ol type="1" id="84000553-3c38-452b-b7bc-6418f4d17cfc" class="numbered-list" start="5"><li>For the transition  y1 -c-&gt; y0, we have the transition x1 -c-&gt; x0, and (y0,x0) is in R and the inverse is true as well</li></ol><p id="5fa1b6db-cdca-4a51-9d7f-8b58bed998dc" class=""><strong>Hence x0 and y0 are bi-similar</strong></p><h1 id="718a30bb-60df-4382-a564-e6055aeac31b" class="">2019/20 Paper</h1><h2 id="336bf4d2-a042-4b4f-941e-a9650ce1ad7e" class="">Question 1</h2><p id="bbe8b52f-f782-4c5e-ae7d-62cf3fb2fb9a" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="95e32ead-720f-4d0c-a2e6-66ab24727581"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Consider the following term of the Toy language described in the accompanying reference sheet where the type annotations have been omitted<pre id="2bceeab8-2217-4f20-8211-16ee6198768f" class="code"><code>let (f :??) = λ(x :??)λ(y :??) x &lt; y + 1 in f 3 4</code></pre><p id="1e202e16-f292-49eb-8d30-3bc076ed4211" class="">Rewrite this term with the type annotations supplied [2 marks]</p></div></figure><p id="bd521c23-8de2-4207-8655-93c125e18632" class="">Int → Int → Bool</p><p id="6d3b94ee-61ad-4711-8e1d-b9891b9f278b" class="">x:Int</p><p id="1e889503-bf47-45fc-ab03-d38fa08c0bc0" class="">y:Int </p><p id="9c85f61b-1e3b-4b88-aa7d-09f7f9f81f05" class="">
</p><p id="322ba418-7828-4486-9022-b0f046f33bcd" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="31fe677f-f98d-472c-bbd0-cca7c6651864"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Give a type derivation for the term in Part (a) [6 marks]</div></figure><figure id="83bec0e2-65c9-4223-993f-2dcf551f59a0" class="image"><a href="https://www.notion.so"><img src="https://www.notion.so"/></a></figure><h2 id="ac218ff3-5e56-429f-96b0-e2c4a1ded7bf" class="">Question 2</h2><p id="e6febafc-9bb7-4283-939c-d158b847cf80" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="04082c10-221b-455c-9d1c-599169a69cde"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">For each call to <code>compareAndSet</code> in the following code, devise a scenario where the call fails (i.e. returns false). Use the line numbers of the code to refer to specific points of execution [8 marks]</div></figure><pre id="78421a4f-7c21-4c07-b14f-c811ffa34030" class="code"><code>import java. util .concurrent.atomic.*;
/**
* LinkedQueue
* Insertion in the Michael−Scott nonblocking queue algorithm 
* @author Brian Goetz and Tim Peierls
*/

public class LinkedQueue &lt;E&gt; {
	
	private static class Node &lt;E&gt; {
		final E item;
		final AtomicReference&lt;LinkedQueue.Node&lt;E&gt;&gt; next;

		public Node(E item, LinkedQueue.Node&lt;E&gt; next) {
			this.item = item;
			this.next = new AtomicReference&lt;LinkedQueue.Node&lt;E&gt;&gt;(next); }}

private final LinkedQueue.Node&lt;E&gt; dummy
	= new LinkedQueue.Node&lt;E&gt;(null, null);
private final AtomicReference&lt;LinkedQueue.Node&lt;E&gt;&gt; head 
	= new AtomicReference&lt;LinkedQueue.Node&lt;E&gt;&gt;(dummy);
private final AtomicReference&lt;LinkedQueue.Node&lt;E&gt;&gt; tail 
	= new AtomicReference&lt;LinkedQueue.Node&lt;E&gt;&gt;(dummy);

public boolean put (E item ) {
	LinkedQueue.Node&lt;E&gt; newNode
		= new LinkedQueue.Node&lt;E&gt;(item, null);
	while ( true ) {
		LinkedQueue.Node&lt;E&gt; curTail = tail.get();
		LinkedQueue.Node&lt;E&gt; tailNext = curTail.next.get();
		if (curTail == tail.get()) {
			if (tailNext != null) {
			//Queue in intermediate state, advance tail
				tail.compareAndSet(curTail, tailNext );
			}
			else { // In quiescent state , try inserting new node
				if (curTail.next.compareAndSet(null, newNode)) {
				// Insertion succeeded, try advancing tail
				tail.compareAndSet(curTail, newNode);
				return true ;
}}}}}}</code></pre><p id="29661ca4-58d5-4ece-9ec9-ceab61f4a5a8" class="">Here are the scenarios where the call to <code>compareAndSet</code> in the given code may fail (i.e., return false):</p><ol type="1" id="a9ed4fb0-4a2c-4c33-bd02-1c608088250c" class="numbered-list" start="1"><li>The <code>compareAndSet</code> call on <code>tail.compareAndSet(curTail, tailNext)</code> fails:<ul id="cd1c39bb-f864-4681-9f90-4c343fe6a710" class="bulleted-list"><li style="list-style-type:disc">Scenario: Another thread concurrently modifies the <code>tail</code> reference after <code>curTail</code> is retrieved, causing the comparison to fail. This can happen if another thread adds an item to the queue at the same time, updating the <code>tail</code> reference.</li></ul></li></ol><ol type="1" id="9b2a8e2f-2ba0-4f66-933d-d73b0c7bf0a1" class="numbered-list" start="2"><li>The <code>compareAndSet</code> call on <code>curTail.next.compareAndSet(null, newNode)</code> fails:<ul id="327d0c5e-09b5-401c-958f-3c6bc480b38c" class="bulleted-list"><li style="list-style-type:disc">Scenario: Another thread concurrently modifies the <code>curTail.next</code> reference after <code>curTail.next</code> is retrieved, causing the comparison to fail. This can happen if another thread advances the tail or inserts a new node in the queue at the same time, modifying the <code>next</code> reference of <code>curTail</code>.</li></ul></li></ol><p id="7ad17996-f25c-4c91-a511-f986970c48f3" class="">In both scenarios, the failure of the <code>compareAndSet</code> call indicates that the state of the queue has changed concurrently by another thread, and the current thread should retry the operation to synchronise with the updated state.</p><h2 id="abdb9063-d9da-457d-98d9-cad318026f05" class="">Question 3</h2><p id="d069685b-d3b9-4e54-8573-abb3ae17a027" class="">In this question we will extend the Toy language with support for Product types. We will call the extended language Toy×. We extend the grammar for types as<div class="indented"><p id="2164b631-b9e8-4f58-9eb1-5af453fa428d" class="">T  ::=  ...  |  T×U         <strong>ProductType</strong></p></div></p><p id="fb673fb6-06b7-4fc9-a7e9-ea9b867fd3d0" class="">and the grammar for expressions as<div class="indented"><p id="16a15d2c-7cc4-4b2a-8570-5b6560bb37de" class="">E  ::=  ... (E,E)  |  fst E  |  snd E</p></div></p><p id="f2ddf97f-3f69-427f-8a87-599a4c59be3e" class="">The extra type rules required are as follows:</p><figure id="d1b4eb20-e3a9-4c0f-b792-fd0d153c227e" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-26_at_18.46.37.png"><img style="width:1328px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-26_at_18.46.37.png"/></a></figure><p id="0e9dc89a-d145-423f-b0ae-f581fbde7d8c" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="b4beece2-c105-4c31-b882-db6918cdb6d9"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Show the grammar of Values of the Toy× language in line with the proposed language extension [1 mark]</div></figure><p id="05b18c03-1177-4d7d-98dd-0a831017d3ab" class="">(E1,E2)</p><p id="1116b776-76da-40af-833a-c8a57067f57a" class="">E1</p><p id="b5c90758-5b8e-4666-8a3c-af495a282767" class="">E2</p><p id="104a8144-71ea-43ca-9143-51f154423a1f" class="">
</p><p id="c6c2281c-5788-45b6-8312-2d071a60d46f" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="64ec0cde-c1f4-47a9-8849-c5ef0ff97ffa"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Write small step operational semantics rules for the operators <code>fst</code>, <code>snd</code> and ( , ) for Toy× [5 marks]</div></figure><figure id="b524bde1-3647-4890-b6b5-954a61e420be" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-28_at_16.07.28.png"><img style="width:1148px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-28_at_16.07.28.png"/></a></figure><figure id="3e24b2c6-51c2-44be-bb8d-d38dbee774c5" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-28_at_16.09.44.png"><img style="width:1074px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-28_at_16.09.44.png"/></a></figure><p id="33fddaf4-c397-4924-9f93-1e73ec447f8c" class="">
</p><p id="af0efb95-501e-42db-b71a-b8859fd1603f" class="">(c)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="baae5c11-c2ca-4a75-b13d-b5ffba786315"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Using your rules in Part (b) along with the rules in the accompanying reference sheet, write the sequence of small step reductions for the term [4 marks]</div></figure><p id="a793f37b-c38f-4b34-9105-9152126ba1d4" class="block-color-teal_background"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>e</mi><mi>t</mi><mo stretchy="false">(</mo><mi>f</mi><mo>:</mo><mi>B</mi><mi>o</mi><mi>o</mi><mi>l</mi><mo>×</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo>→</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo>×</mo><mi>B</mi><mi>o</mi><mi>o</mi><mi>l</mi><mo stretchy="false">)</mo><mo>=</mo><mi>λ</mi><mo stretchy="false">(</mo><mi>z</mi><mo>:</mo><mi>B</mi><mi>o</mi><mi>o</mi><mi>l</mi><mo>×</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>s</mi><mi>n</mi><mi>d</mi><mtext> </mtext><mi>z</mi><mo separator="true">,</mo><mi>f</mi><mi>s</mi><mi>t</mi><mtext> </mtext><mi>z</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>i</mi><mi>n</mi><mtext> </mtext><mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">let(f:Bool×Int→Int×Bool) = λ(z:Bool×Int)(snd \space z,fst \space z) \space in \space f(true,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">oo</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">oo</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">oo</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace"> </span><span class="mord mathnormal">in</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span><span>﻿</span></span></p><figure id="78bffb4c-bed0-49d7-bd88-b1f56f55302d" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-28_at_20.30.55.png"><img style="width:2474px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-28_at_20.30.55.png"/></a></figure><p id="45730878-fd49-44c8-b5ee-ec5899ba1843" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="b46d3613-ea6b-4789-98ef-3b90172d026f"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">We wish to add a new operator to Toy×, called join. The intended use of this operator is to take a pair of values of the same type and to return a single value of that type. Define a type rule for this new join operator [2 marks]</div></figure><figure id="95f8b3a8-f502-43b9-841f-15418fc2b020" class="image"><a href="https://www.notion.so"><img src="https://www.notion.so"/></a></figure><p id="3fba8eb5-6bde-47e0-b99c-b15d99309fad" class="">
</p><p id="b7ec6993-d530-4a96-8abb-8fdf38cca6f6" class="">(e)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="254a08de-34ad-4231-bf47-1efa3a454a2d"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">The semantics of the join operator from Part (d) is that pairs of boolean values are to be combined using logical conjunction and pairs of integer values by addition. Write a small-step operational semantics for the join operation. You will need to devise a sensible strategy for joining function values [8 marks]</div></figure><figure id="5a7f47ad-05dd-4d92-9f42-acbe22c8b3cf" class="image"><a href="https://www.notion.so"><img src="https://www.notion.so"/></a></figure><h2 id="7ff55851-c875-4804-a1ab-514e578a9482" class="">Question 4</h2><figure id="77caf9a7-999d-4a1e-a7c6-b0141f9f208a" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-26_at_18.53.44.png"><img style="width:914px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-26_at_18.53.44.png"/></a></figure><p id="6fb9fd1f-158d-4b2c-ae20-83d540ee16f7" class="">(a)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="895bb643-51ba-439c-a403-8a4a09718241"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Write down the set of all traces that originate at x0 [2 marks]</div></figure><p id="a41019b1-8ab2-40e8-a9ab-4c4f938fcd04" class="">Traces from x0: {ε, a, ab, ac, aba, aca, abac, acab, ε + (a(b + c)*)* }</p><p id="3dca9394-a3c5-482a-a960-cca0b6a17ebd" class="">
</p><p id="38d500ca-0c12-4db0-9774-16874a6a97d3" class="">(b)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="beb3e0ed-62fb-4ac4-b8cd-94080cafb4b7"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">The state y0 simulates state x0 but not vice versa. Show that state x0 does not simulate state y0 [4 marks]</div></figure><figure id="ef0885c7-ef30-4f9f-bdbe-0d90b6a4c4d0" class="image"><a href="https://www.notion.so"><img src="https://www.notion.so"/></a></figure><p id="b0dcb625-e4a9-498e-a5fb-590861ecbb39" class="">
</p><p id="0c0cfcc7-44d5-4483-a1e6-4f3e4227bda1" class="">(c)</p><figure id="6c8ff17d-10d5-4406-a8bb-26eca777acd8" class="image"><a href="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-26_at_18.56.45.png"><img style="width:288px" src="Past%20Paper%20Revision%2002a083b9dc574a5e8dd8a6c512c89e65/Screenshot_2023-05-26_at_18.56.45.png"/></a></figure><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="6e5708b8-b151-48af-88f2-45d774192e15"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Show that states x0 and z0 are simulation equivalent [8 marks]</div></figure><figure id="2a922fc2-9e3c-456b-bf59-aedf07d2d19e" class="image"><a href="https://www.notion.so"><img src="https://www.notion.so"/></a></figure><p id="fb580173-5679-4201-a642-be2337beda6c" class="">
</p><p id="0ae7eb04-cc3b-47cd-9a9f-31b976ff7265" class="">(d)</p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="711bbce5-6496-40f2-8c36-80bbfc1f474f"><div style="font-size:1.5em"><span class="icon">❓</span></div><div style="width:100%">Show that states x0 and z0 are not bi-similar [6 marks]</div></figure><figure id="1211a279-1924-4eb2-b5ef-e7ea6a396d86" class="image"><a href="https://www.notion.so"><img src="https://www.notion.so"/></a></figure></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>